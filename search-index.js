crystal_doc_search_index_callback({"repository_name":"anyolite","body":"# Anyolite\n\nAnyolite is a Crystal shard which adds a fully functional mruby interpreter to Crystal.\n\n![Test](https://github.com/Anyolite/anyolite/workflows/Test/badge.svg)\n\n![Release](https://img.shields.io/github/v/release/Anyolite/anyolite)\n![ReleaseDate](https://img.shields.io/github/release-date/Anyolite/anyolite)\n\n![License](https://img.shields.io/github/license/Anyolite/anyolite)\n\n# Description\n\nAnyolite allows for wrapping Crystal classes and functions into mruby with little effort.\nThis way, mruby can be used as a scripting language to Crystal projects, with the major advantage of a similar syntax.\n\nThis project is currently in the early development phase, so please report any bugs or missing relevant features.\n\n# Features\n\n* Bindings to an mruby interpreter\n* Wrapping of nearly arbitrary Crystal classes and methods to mruby\n* Easy syntax without unnecessary bolderplate code\n* Support for keyword arguments and default values\n* Simple system to prevent garbage collector conflicts\n\n# Prerequisites\n\nYou need to have the following programs installed (and in your PATH variable, if you are on Windows):\n* Ruby (for building mruby)\n* Rake (for building the whole project)\n* Bison (for building mruby)\n* Git (for downloading mruby)\n* GCC or Microsoft Visual Studio 19 (for building the object files required for Anyolite, depending on your OS)\n\n# Installing\n\nPut this shard as a requirement into your shard.yml project file and then call\n```bash\nshards install\n```\nfrom a terminal or the MSVC Developer Console (on Windows).\n\nAlternatively, you can clone this repository into the lib folder of your project and run\n```bash\nrake build_shard\n```\nmanually to install the shard without using the crystal shards program.\n\nIf you want to use other options for Anyolite, you can set `ANYOLITE_CONFIG_PATH` to the filename of a JSON config file,\nwhich allows for changing multiple options when installing the shard. Possible options are:\n\n* `ANYOLITE_BUILDPATH` - The relative directory in which Anyolite will be built\n* `ANYOLITE_MRUBY_FORK` - The web address of the mruby repository\n* `ANYOLITE_MRUBY_DIR` - The relative directory mruby will be installed in\n* `ANYOLITE_MRUBY_CONFIG_PATH` - The config file which is used for building mruby\n* `ANYOLITE_COMPILER` - The C compiler used for building Anyolite\n\n# How to use\n\nImagine a Crystal class for a really bad RPG:\n\n```crystal\nmodule TestModule\n  class Entity\n    property hp : Int32 = 0\n\n    def initialize(@hp)\n    end\n\n    def damage(diff : Int32)\n      @hp -= diff\n    end\n\n    def yell(sound : String, loud : Bool = false)\n      if loud\n        puts \"Entity yelled: #{sound.upcase}\"\n      else\n        puts \"Entity yelled: #{sound}\"\n      end\n    end\n\n    def absorb_hp_from(other : Entity)\n      @hp += other.hp\n      other.hp = 0\n    end\n  end\nend\n```\n\nNow, you want to wrap this class in Ruby. All you need to do is to execute the following code in Crystal (current commit; see documentation page for the version of the latest release):\n\n```crystal\nrequire \"anyolite\"\n\nMrbState.create do |mrb|\n  MrbWrap.wrap(mrb, TestModule)\n\n  mrb.load_script_from_file(\"examples/hp_example.rb\")\nend\n```\n\nWell, that's it already. \nThe last line in the block calls the following example script:\n\n```ruby\na = TestModule::Entity.new(hp: 20)\na.damage(diff: 13)\nputs a.hp\n\nb = TestModule::Entity.new(hp: 10)\na.absorb_hp_from(other: b)\nputs a.hp\nputs b.hp\nb.yell(sound: 'Ouch, you stole my HP!', loud: true)\na.yell(sound: 'Well, take better care of your public attributes!')\n```\n\nThe example above gives a good overview over the things you can already do with Anyolite.\nMore features will be added in the future.\n\n# Limitations\n\n* Currently, Anyolite does not work on Windows due to Crystal compiler bugs\n* Arrays, hashes and other complex mruby objects are not directly supported\n* Configuration options for mruby are relatively limited (yet)\n* Default values for unnamed function arguments are limited to integers and floats\n* Optional keyword arguments need a default value (can be a different one than the Crystal value, though)\n* Keywords will always be given to functions, even if optional (then with default values)\n* Splat arguments and arbitrary keywords are not possible due to compiletime symbols in Crystal\n* Only one type per argument is allowed\n\n# Why this name?\n\nhttps://en.wikipedia.org/wiki/Anyolite\n\nIn short, it is a rare variant of the crystalline mineral called zoisite, with a ruby and crystal shards (of pargasite) embedded.\n\nThe term 'anyoli' means 'green' in the Maasai language, thus naming 'anyolite'.\n\n# Roadmap\n\n## Releases\n\n### Version 0.3.0\n\n#### Features\n\n* Crystal structs are wrapped using wrapper objects\n\n#### Breaking changes\n\n* Struct hash values as object ID replacements are obsolete\n* Option hash for reference table instead of flags\n* Consistent naming for mruby hooks\n\n#### Safety\n\n* Structs with equal hash values do not interfere anymore\n\n#### Usability\n\n* MrbModule instances and Crystal modules can both be used in wrapper methods\n\n### Version 0.2.3\n\n#### Usability\n\n* More options for adjusting reference table\n\n#### Bugfixes\n\n* Fixed reference counter not increasing\n\n### Version 0.2.2\n\n#### Usability\n\n* Added more debugging methods\n* Allowed for custom object IDs by defining `mruby_object_id` for a class\n\n#### Bugfixes\n\n* Fixed problems with struct wrapping\n\n### Version 0.2.1\n\n#### Usability\n* Operator suffixes as general optional argument for MrbWrap functions\n* Option to inspect reference table\n* Reference counting in reference table\n* Reference table can be cleared\n\n#### Bugfixes\n* Fixed structs not being able to be wrapped\n* Fixed example in documentation\n* Fixed memory leak when returning nontrivial objects in mruby\n* Removed constructor limitations for types being able to be used as return values \n\n### Version 0.2.0\n\n#### Major features\n\n* Keyword argument support\n* Support for optional keywords\n\n#### Minor features\n\n* Casting from MrbValue objects to closest Crystal values\n* Option to use a JSON config file\n\n#### Breaking changes\n\n* Optional arguments are passed using tuples instead of `MrbWrap::Opt`\n\n#### Safety\n\n* Class checks for arguments\n* Checks for correct keyword classes\n* Module cache analogous to the class cache\n\n#### Usability\n\n* Simplified some macro functions considerably\n* Arguments can be specified consistently as arrays or standalone\n* Documentation builds only for releases\n* Uniform system for passing optional arguments\n* Updated examples and documentation for keyword support\n\n#### Bugfixes\n\n* Fixed erros when naming MrbState instances anything other than 'mrb'\n\n### Version 0.1.1\n\n#### Safety\n\n* Added safeguards for reference table access\n\n#### Bugfixes\n\n* Fixed mruby function return values not being cached\n* Fixed minor documentation errors\n\n### Version 0.1.0\n\n#### Major features\n\n* Basic structure\n* Ubuntu support\n* Wrappers for classes\n* Wrappers for modules\n* Support for classes in modules\n* Wrappers for properties\n* Wrappers for instance methods\n* Wrappers for module and class methods\n* Wrappers for constants\n* Optional values for simple argument types\n* Crystal GC respects the mruby GC\n* Hooks for mruby object creation and deletion\n* Simple examples\n* Build tests\n* Basic documentation\n\n## Upcoming releases\n\n### Version 0.4.0\n\n#### Major features\n\n* [X] Easier wrapping of classes and all of their methods and constants\n* [X] Annotation to exclude functions from wrapping\n* [X] Annotation to specialize functions for wrapping\n* [X] Annotation to rename wrapped functions\n* [X] Full wrapping of module and class hierarchies\n\n#### Breaking changes\n\n* [X] Function names with operators do not include the operator into the ruby name anymore\n* [X] Unified module and class cache\n\n#### Usability\n\n* [X] Documentation updates for the new wrapping routines\n* [X] Functions with only an operator in their name can now be wrapped using `MrbWrap::Empty`\n\n#### Bugfixes\n\n* [X] Nested classes and modules can now be wrapped reliably\n\n### Future updates\n\n* [ ] Windows support (currently not supported due to problems with Crystal)\n* [ ] Mac support (might be possible, not tested yet)\n* [ ] Compiletime errors for macros\n* [ ] Support for more flexible mruby configuration options\n* [ ] Arrays as arguments and return values\n* [ ] Crystal specs for testing\n* [ ] More stable type casting\n* [ ] Use Array(TypeDeclaration) instead of Hash for keywords in internal methods\n* [ ] Options for inherited and/or inheriting classes\n\n### Possible future updates\n\n* [ ] Other types (Hashes, ...) as arguments and return values\n* [ ] Option for passing mruby splat arguments as an array\n* [ ] Support for arbitrary keyword arguments as hashes\n* [ ] More variety for default parameters for unnamed options\n* [ ] Method in mruby to determine owner of object (if possible)\n* [ ] Include wrapping of nilable classes (if possible)\n* [ ] Better context resolution if necessary\n","program":{"html_id":"anyolite/toplevel","path":"toplevel.html","kind":"module","full_name":"Top Level Namespace","name":"Top Level Namespace","abstract":false,"superclass":null,"ancestors":[],"locations":[],"repository_name":"anyolite","program":true,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":null,"doc":null,"summary":null,"class_methods":[],"constructors":[],"instance_methods":[],"macros":[],"types":[{"html_id":"anyolite/MrbCast","path":"MrbCast.html","kind":"module","full_name":"MrbCast","name":"MrbCast","abstract":false,"superclass":null,"ancestors":[],"locations":[{"filename":"src/MrbCast.cr","line_number":2,"url":"https://github.com/Anyolite/anyolite/blob/v0.4.0-pre/src/MrbCast.cr#L2"}],"repository_name":"anyolite","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":null,"doc":"Module for specific casts of Crystal values into mruby values","summary":"<p>Module for specific casts of Crystal values into mruby values</p>","class_methods":[{"id":"cast_to_bool(mrb:Pointer(MrbInternal::MrbState),value:MrbInternal::MrbValue)-class-method","html_id":"cast_to_bool(mrb:Pointer(MrbInternal::MrbState),value:MrbInternal::MrbValue)-class-method","name":"cast_to_bool","doc":null,"summary":null,"abstract":false,"args":[{"name":"mrb","doc":null,"default_value":"","external_name":"mrb","restriction":"::Pointer(MrbInternal::MrbState)"},{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":"MrbInternal::MrbValue"}],"args_string":"(mrb : Pointer(MrbInternal::MrbState), value : MrbInternal::MrbValue)","source_link":"https://github.com/Anyolite/anyolite/blob/v0.4.0-pre/src/MrbCast.cr#L90","def":{"name":"cast_to_bool","args":[{"name":"mrb","doc":null,"default_value":"","external_name":"mrb","restriction":"::Pointer(MrbInternal::MrbState)"},{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":"MrbInternal::MrbValue"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"if value.tt == MrbInternal::MrbVType::MRB_TT_TRUE\n  true\nelse\n  if (value.tt == MrbInternal::MrbVType::MRB_TT_FALSE) && (value.value.value_int != 0)\n    false\n  else\n    raise(\"ERROR: Wrong arg\")\n  end\nend"}},{"id":"cast_to_float(mrb:Pointer(MrbInternal::MrbState),value:MrbInternal::MrbValue)-class-method","html_id":"cast_to_float(mrb:Pointer(MrbInternal::MrbState),value:MrbInternal::MrbValue)-class-method","name":"cast_to_float","doc":null,"summary":null,"abstract":false,"args":[{"name":"mrb","doc":null,"default_value":"","external_name":"mrb","restriction":"::Pointer(MrbInternal::MrbState)"},{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":"MrbInternal::MrbValue"}],"args_string":"(mrb : Pointer(MrbInternal::MrbState), value : MrbInternal::MrbValue)","source_link":"https://github.com/Anyolite/anyolite/blob/v0.4.0-pre/src/MrbCast.cr#L108","def":{"name":"cast_to_float","args":[{"name":"mrb","doc":null,"default_value":"","external_name":"mrb","restriction":"::Pointer(MrbInternal::MrbState)"},{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":"MrbInternal::MrbValue"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"if value.tt == MrbInternal::MrbVType::MRB_TT_FLOAT\n  value.value.value_float\nelse\n  raise(\"ERROR: Wrong arg\")\nend"}},{"id":"cast_to_int(mrb:Pointer(MrbInternal::MrbState),value:MrbInternal::MrbValue)-class-method","html_id":"cast_to_int(mrb:Pointer(MrbInternal::MrbState),value:MrbInternal::MrbValue)-class-method","name":"cast_to_int","doc":null,"summary":null,"abstract":false,"args":[{"name":"mrb","doc":null,"default_value":"","external_name":"mrb","restriction":"::Pointer(MrbInternal::MrbState)"},{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":"MrbInternal::MrbValue"}],"args_string":"(mrb : Pointer(MrbInternal::MrbState), value : MrbInternal::MrbValue)","source_link":"https://github.com/Anyolite/anyolite/blob/v0.4.0-pre/src/MrbCast.cr#L100","def":{"name":"cast_to_int","args":[{"name":"mrb","doc":null,"default_value":"","external_name":"mrb","restriction":"::Pointer(MrbInternal::MrbState)"},{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":"MrbInternal::MrbValue"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"if value.tt == MrbInternal::MrbVType::MRB_TT_FIXNUM\n  value.value.value_int\nelse\n  raise(\"ERROR: Wrong arg\")\nend"}},{"id":"cast_to_string(mrb:Pointer(MrbInternal::MrbState),value:MrbInternal::MrbValue)-class-method","html_id":"cast_to_string(mrb:Pointer(MrbInternal::MrbState),value:MrbInternal::MrbValue)-class-method","name":"cast_to_string","doc":null,"summary":null,"abstract":false,"args":[{"name":"mrb","doc":null,"default_value":"","external_name":"mrb","restriction":"::Pointer(MrbInternal::MrbState)"},{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":"MrbInternal::MrbValue"}],"args_string":"(mrb : Pointer(MrbInternal::MrbState), value : MrbInternal::MrbValue)","source_link":"https://github.com/Anyolite/anyolite/blob/v0.4.0-pre/src/MrbCast.cr#L116","def":{"name":"cast_to_string","args":[{"name":"mrb","doc":null,"default_value":"","external_name":"mrb","restriction":"::Pointer(MrbInternal::MrbState)"},{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":"MrbInternal::MrbValue"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"if value.tt == MrbInternal::MrbVType::MRB_TT_STRING\n  String.new(MrbInternal.mrb_str_to_cstr(mrb, value))\nelse\n  raise(\"ERROR: Wrong arg\")\nend"}},{"id":"interpret_ruby_value(mrb:Pointer(MrbInternal::MrbState),value:MrbInternal::MrbValue)-class-method","html_id":"interpret_ruby_value(mrb:Pointer(MrbInternal::MrbState),value:MrbInternal::MrbValue)-class-method","name":"interpret_ruby_value","doc":null,"summary":null,"abstract":false,"args":[{"name":"mrb","doc":null,"default_value":"","external_name":"mrb","restriction":"::Pointer(MrbInternal::MrbState)"},{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":"MrbInternal::MrbValue"}],"args_string":"(mrb : Pointer(MrbInternal::MrbState), value : MrbInternal::MrbValue)","source_link":"https://github.com/Anyolite/anyolite/blob/v0.4.0-pre/src/MrbCast.cr#L130","def":{"name":"interpret_ruby_value","args":[{"name":"mrb","doc":null,"default_value":"","external_name":"mrb","restriction":"::Pointer(MrbInternal::MrbState)"},{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":"MrbInternal::MrbValue"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"case value.tt\nwhen MrbInternal::MrbVType::MRB_TT_UNDEF\n  MrbWrap::Undef\nwhen MrbInternal::MrbVType::MRB_TT_TRUE\n  true\nwhen MrbInternal::MrbVType::MRB_TT_FALSE\n(  value.value.value_int != 0 ? false : nil)\nwhen MrbInternal::MrbVType::MRB_TT_FIXNUM\n  MrbCast.cast_to_int(mrb, value)\nwhen MrbInternal::MrbVType::MRB_TT_FLOAT\n  MrbCast.cast_to_float(mrb, value)\nwhen MrbInternal::MrbVType::MRB_TT_STRING\n  MrbCast.cast_to_string(mrb, value)\nelse\n  raise(\"MrbValue #{value} with #{value.tt} is not supported\")\nend"}},{"id":"is_undef?(value:MrbInternal::MrbValue)-class-method","html_id":"is_undef?(value:MrbInternal::MrbValue)-class-method","name":"is_undef?","doc":null,"summary":null,"abstract":false,"args":[{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":"MrbInternal::MrbValue"}],"args_string":"(value : MrbInternal::MrbValue)","source_link":"https://github.com/Anyolite/anyolite/blob/v0.4.0-pre/src/MrbCast.cr#L124","def":{"name":"is_undef?","args":[{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":"MrbInternal::MrbValue"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"value.tt == MrbInternal::MrbVType::MRB_TT_UNDEF"}},{"id":"return_bool(value)-class-method","html_id":"return_bool(value)-class-method","name":"return_bool","doc":null,"summary":null,"abstract":false,"args":[{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":""}],"args_string":"(value)","source_link":"https://github.com/Anyolite/anyolite/blob/v0.4.0-pre/src/MrbCast.cr#L21","def":{"name":"return_bool","args":[{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"return MrbInternal.get_bool_value(value ? 1 : 0)"}},{"id":"return_false-class-method","html_id":"return_false-class-method","name":"return_false","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/Anyolite/anyolite/blob/v0.4.0-pre/src/MrbCast.cr#L13","def":{"name":"return_false","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"return MrbInternal.get_false_value"}},{"id":"return_fixnum(value)-class-method","html_id":"return_fixnum(value)-class-method","name":"return_fixnum","doc":null,"summary":null,"abstract":false,"args":[{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":""}],"args_string":"(value)","source_link":"https://github.com/Anyolite/anyolite/blob/v0.4.0-pre/src/MrbCast.cr#L17","def":{"name":"return_fixnum","args":[{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"return MrbInternal.get_fixnum_value(value)"}},{"id":"return_float(mrb,value)-class-method","html_id":"return_float(mrb,value)-class-method","name":"return_float","doc":null,"summary":null,"abstract":false,"args":[{"name":"mrb","doc":null,"default_value":"","external_name":"mrb","restriction":""},{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":""}],"args_string":"(mrb, value)","source_link":"https://github.com/Anyolite/anyolite/blob/v0.4.0-pre/src/MrbCast.cr#L25","def":{"name":"return_float","args":[{"name":"mrb","doc":null,"default_value":"","external_name":"mrb","restriction":""},{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"return MrbInternal.get_float_value(mrb, value)"}},{"id":"return_nil-class-method","html_id":"return_nil-class-method","name":"return_nil","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/Anyolite/anyolite/blob/v0.4.0-pre/src/MrbCast.cr#L5","def":{"name":"return_nil","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"return MrbInternal.get_nil_value"}},{"id":"return_string(mrb,value)-class-method","html_id":"return_string(mrb,value)-class-method","name":"return_string","doc":null,"summary":null,"abstract":false,"args":[{"name":"mrb","doc":null,"default_value":"","external_name":"mrb","restriction":""},{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":""}],"args_string":"(mrb, value)","source_link":"https://github.com/Anyolite/anyolite/blob/v0.4.0-pre/src/MrbCast.cr#L29","def":{"name":"return_string","args":[{"name":"mrb","doc":null,"default_value":"","external_name":"mrb","restriction":""},{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"return MrbInternal.get_string_value(mrb, value)"}},{"id":"return_true-class-method","html_id":"return_true-class-method","name":"return_true","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/Anyolite/anyolite/blob/v0.4.0-pre/src/MrbCast.cr#L9","def":{"name":"return_true","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"return MrbInternal.get_true_value"}},{"id":"return_value(mrb:Pointer(MrbInternal::MrbState),value:String)-class-method","html_id":"return_value(mrb:Pointer(MrbInternal::MrbState),value:String)-class-method","name":"return_value","doc":null,"summary":null,"abstract":false,"args":[{"name":"mrb","doc":null,"default_value":"","external_name":"mrb","restriction":"::Pointer(MrbInternal::MrbState)"},{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":"String"}],"args_string":"(mrb : Pointer(MrbInternal::MrbState), value : String)","source_link":"https://github.com/Anyolite/anyolite/blob/v0.4.0-pre/src/MrbCast.cr#L51","def":{"name":"return_value","args":[{"name":"mrb","doc":null,"default_value":"","external_name":"mrb","restriction":"::Pointer(MrbInternal::MrbState)"},{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":"String"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"self.return_string(mrb, value)"}},{"id":"return_value(mrb:Pointer(MrbInternal::MrbState),value:Struct)-class-method","html_id":"return_value(mrb:Pointer(MrbInternal::MrbState),value:Struct)-class-method","name":"return_value","doc":null,"summary":null,"abstract":false,"args":[{"name":"mrb","doc":null,"default_value":"","external_name":"mrb","restriction":"::Pointer(MrbInternal::MrbState)"},{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":"Struct"}],"args_string":"(mrb : Pointer(MrbInternal::MrbState), value : Struct)","source_link":"https://github.com/Anyolite/anyolite/blob/v0.4.0-pre/src/MrbCast.cr#L55","def":{"name":"return_value","args":[{"name":"mrb","doc":null,"default_value":"","external_name":"mrb","restriction":"::Pointer(MrbInternal::MrbState)"},{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":"Struct"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"ruby_class = MrbClassCache.get(typeof(value))\ndestructor = MrbTypeCache.destructor_method(typeof(value))\nptr = Pointer(typeof(value)).malloc(size: 1, value: value)\nnew_ruby_object = MrbInternal.new_empty_object(mrb, ruby_class, ptr.as(::Pointer(Void)), MrbTypeCache.register(typeof(value), destructor))\nstruct_wrapper = MrbMacro.convert_from_ruby_struct(mrb, new_ruby_object, typeof(value))\nstruct_wrapper.value = MrbWrap::StructWrapper(typeof(value)).new(value)\nMrbRefTable.add(MrbRefTable.get_object_id(struct_wrapper.value), ptr.as(::Pointer(Void)))\nreturn new_ruby_object\n"}},{"id":"return_value(mrb:Pointer(MrbInternal::MrbState),value:Object)-class-method","html_id":"return_value(mrb:Pointer(MrbInternal::MrbState),value:Object)-class-method","name":"return_value","doc":null,"summary":null,"abstract":false,"args":[{"name":"mrb","doc":null,"default_value":"","external_name":"mrb","restriction":"::Pointer(MrbInternal::MrbState)"},{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":"Object"}],"args_string":"(mrb : Pointer(MrbInternal::MrbState), value : Object)","source_link":"https://github.com/Anyolite/anyolite/blob/v0.4.0-pre/src/MrbCast.cr#L72","def":{"name":"return_value","args":[{"name":"mrb","doc":null,"default_value":"","external_name":"mrb","restriction":"::Pointer(MrbInternal::MrbState)"},{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":"Object"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"ruby_class = MrbClassCache.get(typeof(value))\ndestructor = MrbTypeCache.destructor_method(typeof(value))\nptr = Pointer(typeof(value)).malloc(size: 1, value: value)\nnew_ruby_object = MrbInternal.new_empty_object(mrb, ruby_class, ptr.as(::Pointer(Void)), MrbTypeCache.register(typeof(value), destructor))\n(MrbMacro.convert_from_ruby_object(mrb, new_ruby_object, typeof(value))).value = value\nMrbRefTable.add(MrbRefTable.get_object_id(value), ptr.as(::Pointer(Void)))\nreturn new_ruby_object\n"}},{"id":"return_value(mrb:Pointer(MrbInternal::MrbState),value:Int)-class-method","html_id":"return_value(mrb:Pointer(MrbInternal::MrbState),value:Int)-class-method","name":"return_value","doc":null,"summary":null,"abstract":false,"args":[{"name":"mrb","doc":null,"default_value":"","external_name":"mrb","restriction":"::Pointer(MrbInternal::MrbState)"},{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":"Int"}],"args_string":"(mrb : Pointer(MrbInternal::MrbState), value : Int)","source_link":"https://github.com/Anyolite/anyolite/blob/v0.4.0-pre/src/MrbCast.cr#L43","def":{"name":"return_value","args":[{"name":"mrb","doc":null,"default_value":"","external_name":"mrb","restriction":"::Pointer(MrbInternal::MrbState)"},{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":"Int"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"self.return_fixnum(value)"}},{"id":"return_value(mrb:Pointer(MrbInternal::MrbState),value:Bool)-class-method","html_id":"return_value(mrb:Pointer(MrbInternal::MrbState),value:Bool)-class-method","name":"return_value","doc":null,"summary":null,"abstract":false,"args":[{"name":"mrb","doc":null,"default_value":"","external_name":"mrb","restriction":"::Pointer(MrbInternal::MrbState)"},{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":"Bool"}],"args_string":"(mrb : Pointer(MrbInternal::MrbState), value : Bool)","source_link":"https://github.com/Anyolite/anyolite/blob/v0.4.0-pre/src/MrbCast.cr#L39","def":{"name":"return_value","args":[{"name":"mrb","doc":null,"default_value":"","external_name":"mrb","restriction":"::Pointer(MrbInternal::MrbState)"},{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":"Bool"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"value ? self.return_true : return_false"}},{"id":"return_value(mrb:Pointer(MrbInternal::MrbState),value:Nil)-class-method","html_id":"return_value(mrb:Pointer(MrbInternal::MrbState),value:Nil)-class-method","name":"return_value","doc":null,"summary":null,"abstract":false,"args":[{"name":"mrb","doc":null,"default_value":"","external_name":"mrb","restriction":"::Pointer(MrbInternal::MrbState)"},{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":"Nil"}],"args_string":"(mrb : Pointer(MrbInternal::MrbState), value : Nil)","source_link":"https://github.com/Anyolite/anyolite/blob/v0.4.0-pre/src/MrbCast.cr#L35","def":{"name":"return_value","args":[{"name":"mrb","doc":null,"default_value":"","external_name":"mrb","restriction":"::Pointer(MrbInternal::MrbState)"},{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":"Nil"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"self.return_nil"}},{"id":"return_value(mrb:Pointer(MrbInternal::MrbState),value:Float)-class-method","html_id":"return_value(mrb:Pointer(MrbInternal::MrbState),value:Float)-class-method","name":"return_value","doc":null,"summary":null,"abstract":false,"args":[{"name":"mrb","doc":null,"default_value":"","external_name":"mrb","restriction":"::Pointer(MrbInternal::MrbState)"},{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":"Float"}],"args_string":"(mrb : Pointer(MrbInternal::MrbState), value : Float)","source_link":"https://github.com/Anyolite/anyolite/blob/v0.4.0-pre/src/MrbCast.cr#L47","def":{"name":"return_value","args":[{"name":"mrb","doc":null,"default_value":"","external_name":"mrb","restriction":"::Pointer(MrbInternal::MrbState)"},{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":"Float"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"self.return_float(mrb, value)"}}],"constructors":[],"instance_methods":[],"macros":[],"types":[]},{"html_id":"anyolite/MrbClass","path":"MrbClass.html","kind":"class","full_name":"MrbClass","name":"MrbClass","abstract":false,"superclass":{"html_id":"anyolite/Reference","kind":"class","full_name":"Reference","name":"Reference"},"ancestors":[{"html_id":"anyolite/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"anyolite/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/MrbClass.cr","line_number":2,"url":"https://github.com/Anyolite/anyolite/blob/v0.4.0-pre/src/MrbClass.cr#L2"}],"repository_name":"anyolite","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":null,"doc":"Reference to a mruby class","summary":"<p>Reference to a mruby class</p>","class_methods":[],"constructors":[{"id":"new(mrb:MrbState,name:String,superclass:MrbClass?=nil,under:MrbModule|MrbClass|Nil=nil)-class-method","html_id":"new(mrb:MrbState,name:String,superclass:MrbClass?=nil,under:MrbModule|MrbClass|Nil=nil)-class-method","name":"new","doc":null,"summary":null,"abstract":false,"args":[{"name":"mrb","doc":null,"default_value":"","external_name":"mrb","restriction":"MrbState"},{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":"String"},{"name":"superclass","doc":null,"default_value":"nil","external_name":"superclass","restriction":"MrbClass | Nil"},{"name":"under","doc":null,"default_value":"nil","external_name":"under","restriction":"MrbModule | MrbClass | Nil"}],"args_string":"(mrb : MrbState, name : String, superclass : MrbClass? = <span class=\"n\">nil</span>, under : MrbModule | MrbClass | Nil = <span class=\"n\">nil</span>)","source_link":"https://github.com/Anyolite/anyolite/blob/v0.4.0-pre/src/MrbClass.cr#L5","def":{"name":"new","args":[{"name":"mrb","doc":null,"default_value":"","external_name":"mrb","restriction":"MrbState"},{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":"String"},{"name":"superclass","doc":null,"default_value":"nil","external_name":"superclass","restriction":"MrbClass | Nil"},{"name":"under","doc":null,"default_value":"nil","external_name":"under","restriction":"MrbModule | MrbClass | Nil"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = allocate\n_.initialize(mrb, name, superclass, under)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"id":"to_unsafe-instance-method","html_id":"to_unsafe-instance-method","name":"to_unsafe","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/Anyolite/anyolite/blob/v0.4.0-pre/src/MrbClass.cr#L14","def":{"name":"to_unsafe","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"return @class_ptr"}}],"macros":[],"types":[]},{"html_id":"anyolite/MrbClassCache","path":"MrbClassCache.html","kind":"module","full_name":"MrbClassCache","name":"MrbClassCache","abstract":false,"superclass":null,"ancestors":[],"locations":[{"filename":"src/MrbClassCache.cr","line_number":2,"url":"https://github.com/Anyolite/anyolite/blob/v0.4.0-pre/src/MrbClassCache.cr#L2"}],"repository_name":"anyolite","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":null,"doc":"Cache for mruby class and module references","summary":"<p>Cache for mruby class and module references</p>","class_methods":[{"id":"get(n:Nil)-class-method","html_id":"get(n:Nil)-class-method","name":"get","doc":null,"summary":null,"abstract":false,"args":[{"name":"n","doc":null,"default_value":"","external_name":"n","restriction":"Nil"}],"args_string":"(n : Nil)","source_link":"https://github.com/Anyolite/anyolite/blob/v0.4.0-pre/src/MrbClassCache.cr#L13","def":{"name":"get","args":[{"name":"n","doc":null,"default_value":"","external_name":"n","restriction":"Nil"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"nil"}},{"id":"get(crystal_class:Class)-class-method","html_id":"get(crystal_class:Class)-class-method","name":"get","doc":null,"summary":null,"abstract":false,"args":[{"name":"crystal_class","doc":null,"default_value":"","external_name":"crystal_class","restriction":"Class"}],"args_string":"(crystal_class : Class)","source_link":"https://github.com/Anyolite/anyolite/blob/v0.4.0-pre/src/MrbClassCache.cr#L21","def":{"name":"get","args":[{"name":"crystal_class","doc":null,"default_value":"","external_name":"crystal_class","restriction":"Class"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"if @@cache[crystal_class.name]?\n  return @@cache[crystal_class.name]\nelse\n  raise(\"Uncached class or module: #{crystal_class}\")\nend"}},{"id":"get(ruby_module:MrbModule)-class-method","html_id":"get(ruby_module:MrbModule)-class-method","name":"get","doc":null,"summary":null,"abstract":false,"args":[{"name":"ruby_module","doc":null,"default_value":"","external_name":"ruby_module","restriction":"MrbModule"}],"args_string":"(ruby_module : MrbModule)","source_link":"https://github.com/Anyolite/anyolite/blob/v0.4.0-pre/src/MrbClassCache.cr#L17","def":{"name":"get","args":[{"name":"ruby_module","doc":null,"default_value":"","external_name":"ruby_module","restriction":"MrbModule"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"ruby_module"}},{"id":"register(crystal_class:Class,mrb_class:MrbClass)-class-method","html_id":"register(crystal_class:Class,mrb_class:MrbClass)-class-method","name":"register","doc":null,"summary":null,"abstract":false,"args":[{"name":"crystal_class","doc":null,"default_value":"","external_name":"crystal_class","restriction":"Class"},{"name":"mrb_class","doc":null,"default_value":"","external_name":"mrb_class","restriction":"MrbClass"}],"args_string":"(crystal_class : Class, mrb_class : MrbClass)","source_link":"https://github.com/Anyolite/anyolite/blob/v0.4.0-pre/src/MrbClassCache.cr#L5","def":{"name":"register","args":[{"name":"crystal_class","doc":null,"default_value":"","external_name":"crystal_class","restriction":"Class"},{"name":"mrb_class","doc":null,"default_value":"","external_name":"mrb_class","restriction":"MrbClass"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@@cache[crystal_class.name] = mrb_class"}},{"id":"register(crystal_module:Class,mrb_module:MrbModule)-class-method","html_id":"register(crystal_module:Class,mrb_module:MrbModule)-class-method","name":"register","doc":null,"summary":null,"abstract":false,"args":[{"name":"crystal_module","doc":null,"default_value":"","external_name":"crystal_module","restriction":"Class"},{"name":"mrb_module","doc":null,"default_value":"","external_name":"mrb_module","restriction":"MrbModule"}],"args_string":"(crystal_module : Class, mrb_module : MrbModule)","source_link":"https://github.com/Anyolite/anyolite/blob/v0.4.0-pre/src/MrbClassCache.cr#L9","def":{"name":"register","args":[{"name":"crystal_module","doc":null,"default_value":"","external_name":"crystal_module","restriction":"Class"},{"name":"mrb_module","doc":null,"default_value":"","external_name":"mrb_module","restriction":"MrbModule"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@@cache[crystal_module.name] = mrb_module"}}],"constructors":[],"instance_methods":[],"macros":[],"types":[]},{"html_id":"anyolite/MrbFunc","path":"MrbFunc.html","kind":"alias","full_name":"MrbFunc","name":"MrbFunc","abstract":false,"superclass":null,"ancestors":[],"locations":[{"filename":"src/MrbWrap.cr","line_number":13,"url":"https://github.com/Anyolite/anyolite/blob/v0.4.0-pre/src/MrbWrap.cr#L13"}],"repository_name":"anyolite","program":false,"enum":false,"alias":true,"aliased":"Proc(Pointer(MrbInternal::MrbState), MrbInternal::MrbValue, MrbInternal::MrbValue)","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":null,"doc":"Alias for the mruby function pointers.","summary":"<p>Alias for the mruby function pointers.</p>","class_methods":[],"constructors":[],"instance_methods":[],"macros":[],"types":[]},{"html_id":"anyolite/MrbMacro","path":"MrbMacro.html","kind":"module","full_name":"MrbMacro","name":"MrbMacro","abstract":false,"superclass":null,"ancestors":[],"locations":[{"filename":"src/MrbMacro.cr","line_number":2,"url":"https://github.com/Anyolite/anyolite/blob/v0.4.0-pre/src/MrbMacro.cr#L2"}],"repository_name":"anyolite","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":null,"doc":"Helper methods which should not be used for trivial cases in the final version","summary":"<p>Helper methods which should not be used for trivial cases in the final version</p>","class_methods":[],"constructors":[],"instance_methods":[],"macros":[{"id":"add_default_constructor(mrb_state,crystal_class,verbose)-macro","html_id":"add_default_constructor(mrb_state,crystal_class,verbose)-macro","name":"add_default_constructor","doc":null,"summary":null,"abstract":false,"args":[{"name":"mrb_state","doc":null,"default_value":"","external_name":"mrb_state","restriction":""},{"name":"crystal_class","doc":null,"default_value":"","external_name":"crystal_class","restriction":""},{"name":"verbose","doc":null,"default_value":"","external_name":"verbose","restriction":""}],"args_string":"(mrb_state, crystal_class, verbose)","source_link":"https://github.com/Anyolite/anyolite/blob/v0.4.0-pre/src/MrbMacro.cr#L717","def":{"name":"add_default_constructor","args":[{"name":"mrb_state","doc":null,"default_value":"","external_name":"mrb_state","restriction":""},{"name":"crystal_class","doc":null,"default_value":"","external_name":"crystal_class","restriction":""},{"name":"verbose","doc":null,"default_value":"","external_name":"verbose","restriction":""}],"double_splat":null,"splat_index":null,"block_arg":null,"visibility":"Public","body":"    \n{% if verbose\n  puts(\"> Adding constructor for #{crystal_class}\")\nend %}\n\n    MrbWrap.wrap_constructor(\n{{ mrb_state }}\n, \n{{ crystal_class }}\n)\n  \n"}},{"id":"allocate_constructed_object(crystal_class,obj,new_obj)-macro","html_id":"allocate_constructed_object(crystal_class,obj,new_obj)-macro","name":"allocate_constructed_object","doc":null,"summary":null,"abstract":false,"args":[{"name":"crystal_class","doc":null,"default_value":"","external_name":"crystal_class","restriction":""},{"name":"obj","doc":null,"default_value":"","external_name":"obj","restriction":""},{"name":"new_obj","doc":null,"default_value":"","external_name":"new_obj","restriction":""}],"args_string":"(crystal_class, obj, new_obj)","source_link":"https://github.com/Anyolite/anyolite/blob/v0.4.0-pre/src/MrbMacro.cr#L273","def":{"name":"allocate_constructed_object","args":[{"name":"crystal_class","doc":null,"default_value":"","external_name":"crystal_class","restriction":""},{"name":"obj","doc":null,"default_value":"","external_name":"obj","restriction":""},{"name":"new_obj","doc":null,"default_value":"","external_name":"new_obj","restriction":""}],"double_splat":null,"splat_index":null,"block_arg":null,"visibility":"Public","body":"    \n# Call initializer method if available\n\n    if new_obj.responds_to?(:mrb_initialize)\n      new_obj.mrb_initialize(mrb)\n    \nend\n\n    \n# Allocate memory so we do not lose this object\n\n    if \n{{ crystal_class }}\n <= Struct\n      struct_wrapper = MrbWrap::StructWrapper(\n{{ crystal_class }}\n).new(\n{{ new_obj }}\n)\n      new_obj_ptr = Pointer(MrbWrap::StructWrapper(\n{{ crystal_class }}\n)).malloc(size: 1, value: struct_wrapper)\n      MrbRefTable.add(MrbRefTable.get_object_id(new_obj_ptr.value), new_obj_ptr.as(Void*))\n\n      puts \"> S: \n{{ crystal_class }}\n: #{new_obj_ptr.value.inspect}\" if MrbRefTable.option_active?(:logging)\n\n      destructor = MrbTypeCache.destructor_method(\n{{ crystal_class }}\n)\n      MrbInternal.set_data_ptr_and_type(\n{{ obj }}\n, new_obj_ptr, MrbTypeCache.register(\n{{ crystal_class }}\n, destructor))\n    \nelse\n      new_obj_ptr = Pointer(\n{{ crystal_class }}\n).malloc(size: 1, value: \n{{ new_obj }}\n)\n      MrbRefTable.add(MrbRefTable.get_object_id(new_obj_ptr.value), new_obj_ptr.as(Void*))\n\n      puts \"> C: \n{{ crystal_class }}\n: #{new_obj_ptr.value.inspect}\" if MrbRefTable.option_active?(:logging)\n\n      destructor = MrbTypeCache.destructor_method(\n{{ crystal_class }}\n)\n      MrbInternal.set_data_ptr_and_type(\n{{ obj }}\n, new_obj_ptr, MrbTypeCache.register(\n{{ crystal_class }}\n, destructor))\n    \nend\n  \n"}},{"id":"call_and_return(mrb,proc,proc_args,converted_args,operator=&quot;&quot;)-macro","html_id":"call_and_return(mrb,proc,proc_args,converted_args,operator=&amp;quot;&amp;quot;)-macro","name":"call_and_return","doc":null,"summary":null,"abstract":false,"args":[{"name":"mrb","doc":null,"default_value":"","external_name":"mrb","restriction":""},{"name":"proc","doc":null,"default_value":"","external_name":"proc","restriction":""},{"name":"proc_args","doc":null,"default_value":"","external_name":"proc_args","restriction":""},{"name":"converted_args","doc":null,"default_value":"","external_name":"converted_args","restriction":""},{"name":"operator","doc":null,"default_value":"\"\"","external_name":"operator","restriction":""}],"args_string":"(mrb, proc, proc_args, converted_args, operator = <span class=\"s\">&quot;&quot;</span>)","source_link":"https://github.com/Anyolite/anyolite/blob/v0.4.0-pre/src/MrbMacro.cr#L155","def":{"name":"call_and_return","args":[{"name":"mrb","doc":null,"default_value":"","external_name":"mrb","restriction":""},{"name":"proc","doc":null,"default_value":"","external_name":"proc","restriction":""},{"name":"proc_args","doc":null,"default_value":"","external_name":"proc_args","restriction":""},{"name":"converted_args","doc":null,"default_value":"","external_name":"converted_args","restriction":""},{"name":"operator","doc":null,"default_value":"\"\"","external_name":"operator","restriction":""}],"double_splat":null,"splat_index":null,"block_arg":null,"visibility":"Public","body":"    \n{% if proc.stringify == \"MrbWrap::Empty\" %}\n      return_value = {{ operator.id }}(*{{ converted_args }})\n    {% else %}\n      return_value = {{ proc }}{{ operator.id }}(*{{ converted_args }})\n    {% end %}\n\n    MrbCast.return_value(\n{{ mrb }}\n, return_value)\n  \n"}},{"id":"call_and_return_instance_method(mrb,proc,converted_obj,converted_args,operator=&quot;&quot;)-macro","html_id":"call_and_return_instance_method(mrb,proc,converted_obj,converted_args,operator=&amp;quot;&amp;quot;)-macro","name":"call_and_return_instance_method","doc":null,"summary":null,"abstract":false,"args":[{"name":"mrb","doc":null,"default_value":"","external_name":"mrb","restriction":""},{"name":"proc","doc":null,"default_value":"","external_name":"proc","restriction":""},{"name":"converted_obj","doc":null,"default_value":"","external_name":"converted_obj","restriction":""},{"name":"converted_args","doc":null,"default_value":"","external_name":"converted_args","restriction":""},{"name":"operator","doc":null,"default_value":"\"\"","external_name":"operator","restriction":""}],"args_string":"(mrb, proc, converted_obj, converted_args, operator = <span class=\"s\">&quot;&quot;</span>)","source_link":"https://github.com/Anyolite/anyolite/blob/v0.4.0-pre/src/MrbMacro.cr#L189","def":{"name":"call_and_return_instance_method","args":[{"name":"mrb","doc":null,"default_value":"","external_name":"mrb","restriction":""},{"name":"proc","doc":null,"default_value":"","external_name":"proc","restriction":""},{"name":"converted_obj","doc":null,"default_value":"","external_name":"converted_obj","restriction":""},{"name":"converted_args","doc":null,"default_value":"","external_name":"converted_args","restriction":""},{"name":"operator","doc":null,"default_value":"\"\"","external_name":"operator","restriction":""}],"double_splat":null,"splat_index":null,"block_arg":null,"visibility":"Public","body":"    if \n{{ converted_obj }}\n.is_a?(MrbWrap::StructWrapper)\n      \n{% if proc.stringify == \"MrbWrap::Empty\" %}\n        return_value = {{ converted_obj }}.content.{{ operator.id }}(*{{ converted_args }})\n      {% else %}\n        return_value = {{ converted_obj }}.content.{{ proc }}{{ operator.id }}(*{{ converted_args }})\n      {% end %}\n\n    \nelse\n      \n{% if proc.stringify == \"MrbWrap::Empty\" %}\n        return_value = {{ converted_obj }}.{{ operator.id }}(*{{ converted_args }})\n      {% else %}\n        return_value = {{ converted_obj }}.{{ proc }}{{ operator.id }}(*{{ converted_args }})\n      {% end %}\n\n    \nend\n    MrbCast.return_value(\n{{ mrb }}\n, return_value)\n  \n"}},{"id":"call_and_return_keyword_instance_method(mrb,proc,converted_obj,converted_regular_args,keyword_args,kw_args,operator=&quot;&quot;,empty_regular=false,context=nil)-macro","html_id":"call_and_return_keyword_instance_method(mrb,proc,converted_obj,converted_regular_args,keyword_args,kw_args,operator=&amp;quot;&amp;quot;,empty_regular=false,context=nil)-macro","name":"call_and_return_keyword_instance_method","doc":null,"summary":null,"abstract":false,"args":[{"name":"mrb","doc":null,"default_value":"","external_name":"mrb","restriction":""},{"name":"proc","doc":null,"default_value":"","external_name":"proc","restriction":""},{"name":"converted_obj","doc":null,"default_value":"","external_name":"converted_obj","restriction":""},{"name":"converted_regular_args","doc":null,"default_value":"","external_name":"converted_regular_args","restriction":""},{"name":"keyword_args","doc":null,"default_value":"","external_name":"keyword_args","restriction":""},{"name":"kw_args","doc":null,"default_value":"","external_name":"kw_args","restriction":""},{"name":"operator","doc":null,"default_value":"\"\"","external_name":"operator","restriction":""},{"name":"empty_regular","doc":null,"default_value":"false","external_name":"empty_regular","restriction":""},{"name":"context","doc":null,"default_value":"nil","external_name":"context","restriction":""}],"args_string":"(mrb, proc, converted_obj, converted_regular_args, keyword_args, kw_args, operator = <span class=\"s\">&quot;&quot;</span>, empty_regular = <span class=\"n\">false</span>, context = <span class=\"n\">nil</span>)","source_link":"https://github.com/Anyolite/anyolite/blob/v0.4.0-pre/src/MrbMacro.cr#L206","def":{"name":"call_and_return_keyword_instance_method","args":[{"name":"mrb","doc":null,"default_value":"","external_name":"mrb","restriction":""},{"name":"proc","doc":null,"default_value":"","external_name":"proc","restriction":""},{"name":"converted_obj","doc":null,"default_value":"","external_name":"converted_obj","restriction":""},{"name":"converted_regular_args","doc":null,"default_value":"","external_name":"converted_regular_args","restriction":""},{"name":"keyword_args","doc":null,"default_value":"","external_name":"keyword_args","restriction":""},{"name":"kw_args","doc":null,"default_value":"","external_name":"kw_args","restriction":""},{"name":"operator","doc":null,"default_value":"\"\"","external_name":"operator","restriction":""},{"name":"empty_regular","doc":null,"default_value":"false","external_name":"empty_regular","restriction":""},{"name":"context","doc":null,"default_value":"nil","external_name":"context","restriction":""}],"double_splat":null,"splat_index":null,"block_arg":null,"visibility":"Public","body":"    if \n{{ converted_obj }}\n.is_a?(MrbWrap::StructWrapper)\n      \n{% if proc.stringify == \"MrbWrap::Empty\" %}\n        return_value = {{ converted_obj }}.content.{{ operator.id }}(\n      {% else %}\n        return_value = {{ converted_obj }}.content.{{ proc }}{{ operator.id }}(\n      {% end %}\n\n        \n{% if empty_regular %}\n          {% c = 0 %}\n          {% for keyword in keyword_args.keys %}\n            {{ keyword.id }}: MrbMacro.convert_keyword_arg({{ mrb }}, {{ kw_args }}.values[{{ c }}], {{ keyword_args[keyword] }}, context: {{ context }}),\n            {% c += 1 %}\n          {% end %}\n        {% else %}\n          *{{ converted_regular_args }},\n          {% c = 0 %}\n          {% for keyword in keyword_args.keys %}\n            {{ keyword.id }}: MrbMacro.convert_keyword_arg({{ mrb }}, {{ kw_args }}.values[{{ c }}], {{ keyword_args[keyword] }}, context: {{ context }}),\n            {% c += 1 %}\n          {% end %}\n        {% end %}\n\n      )\n    \nelse\n      \n{% if proc.stringify == \"MrbWrap::Empty\" %}\n        return_value = {{ converted_obj }}.{{ operator.id }}(\n      {% else %}\n        return_value = {{ converted_obj }}.{{ proc }}{{ operator.id }}(\n      {% end %}\n\n        \n{% if empty_regular %}\n          {% c = 0 %}\n          {% for keyword in keyword_args.keys %}\n            {{ keyword.id }}: MrbMacro.convert_keyword_arg({{ mrb }}, {{ kw_args }}.values[{{ c }}], {{ keyword_args[keyword] }}, context: {{ context }}),\n            {% c += 1 %}\n          {% end %}\n        {% else %}\n          *{{ converted_regular_args }},\n          {% c = 0 %}\n          {% for keyword in keyword_args.keys %}\n            {{ keyword.id }}: MrbMacro.convert_keyword_arg({{ mrb }}, {{ kw_args }}.values[{{ c }}], {{ keyword_args[keyword] }}, context: {{ context }}),\n            {% c += 1 %}\n          {% end %}\n        {% end %}\n\n      )\n    \nend\n\n    MrbCast.return_value(\n{{ mrb }}\n, return_value)\n  \n"}},{"id":"call_and_return_keyword_method(mrb,proc,converted_regular_args,keyword_args,kw_args,operator=&quot;&quot;,empty_regular=false)-macro","html_id":"call_and_return_keyword_method(mrb,proc,converted_regular_args,keyword_args,kw_args,operator=&amp;quot;&amp;quot;,empty_regular=false)-macro","name":"call_and_return_keyword_method","doc":null,"summary":null,"abstract":false,"args":[{"name":"mrb","doc":null,"default_value":"","external_name":"mrb","restriction":""},{"name":"proc","doc":null,"default_value":"","external_name":"proc","restriction":""},{"name":"converted_regular_args","doc":null,"default_value":"","external_name":"converted_regular_args","restriction":""},{"name":"keyword_args","doc":null,"default_value":"","external_name":"keyword_args","restriction":""},{"name":"kw_args","doc":null,"default_value":"","external_name":"kw_args","restriction":""},{"name":"operator","doc":null,"default_value":"\"\"","external_name":"operator","restriction":""},{"name":"empty_regular","doc":null,"default_value":"false","external_name":"empty_regular","restriction":""}],"args_string":"(mrb, proc, converted_regular_args, keyword_args, kw_args, operator = <span class=\"s\">&quot;&quot;</span>, empty_regular = <span class=\"n\">false</span>)","source_link":"https://github.com/Anyolite/anyolite/blob/v0.4.0-pre/src/MrbMacro.cr#L164","def":{"name":"call_and_return_keyword_method","args":[{"name":"mrb","doc":null,"default_value":"","external_name":"mrb","restriction":""},{"name":"proc","doc":null,"default_value":"","external_name":"proc","restriction":""},{"name":"converted_regular_args","doc":null,"default_value":"","external_name":"converted_regular_args","restriction":""},{"name":"keyword_args","doc":null,"default_value":"","external_name":"keyword_args","restriction":""},{"name":"kw_args","doc":null,"default_value":"","external_name":"kw_args","restriction":""},{"name":"operator","doc":null,"default_value":"\"\"","external_name":"operator","restriction":""},{"name":"empty_regular","doc":null,"default_value":"false","external_name":"empty_regular","restriction":""}],"double_splat":null,"splat_index":null,"block_arg":null,"visibility":"Public","body":"    \n{% if proc.stringify == \"MrbWrap::Empty\" %}\n      return_value = {{ operator.id }}(\n    {% else %}\n      return_value = {{ proc }}{{ operator.id }}(\n    {% end %}\n\n      \n{% if empty_regular %}\n        {% c = 0 %}\n        {% for keyword in keyword_args.keys %}\n          {{ keyword.id }}: MrbMacro.convert_keyword_arg({{ mrb }}, {{ kw_args }}.values[{{ c }}], {{ keyword_args[keyword] }}),\n          {% c += 1 %}\n        {% end %}\n      {% else %}\n        *{{ converted_regular_args }},\n        {% c = 0 %}\n        {% for keyword in keyword_args.keys %}\n          {{ keyword.id }}: MrbMacro.convert_keyword_arg({{ mrb }}, {{ kw_args }}.values[{{ c }}], {{ keyword_args[keyword] }}),\n          {% c += 1 %}\n        {% end %}\n      {% end %}\n\n    )\n\n    MrbCast.return_value(\n{{ mrb }}\n, return_value)\n  \n"}},{"id":"convert_arg(mrb,arg,arg_type,context=nil)-macro","html_id":"convert_arg(mrb,arg,arg_type,context=nil)-macro","name":"convert_arg","doc":"Converts Ruby values to Crystal values","summary":"<p>Converts Ruby values to Crystal values</p>","abstract":false,"args":[{"name":"mrb","doc":null,"default_value":"","external_name":"mrb","restriction":""},{"name":"arg","doc":null,"default_value":"","external_name":"arg","restriction":""},{"name":"arg_type","doc":null,"default_value":"","external_name":"arg_type","restriction":""},{"name":"context","doc":null,"default_value":"nil","external_name":"context","restriction":""}],"args_string":"(mrb, arg, arg_type, context = <span class=\"n\">nil</span>)","source_link":"https://github.com/Anyolite/anyolite/blob/v0.4.0-pre/src/MrbMacro.cr#L89","def":{"name":"convert_arg","args":[{"name":"mrb","doc":null,"default_value":"","external_name":"mrb","restriction":""},{"name":"arg","doc":null,"default_value":"","external_name":"arg","restriction":""},{"name":"arg_type","doc":null,"default_value":"","external_name":"arg_type","restriction":""},{"name":"context","doc":null,"default_value":"nil","external_name":"context","restriction":""}],"double_splat":null,"splat_index":null,"block_arg":null,"visibility":"Public","body":"    \n{% if arg_type.class_name == \"TupleLiteral\" %}\n      MrbMacro.convert_arg({{ mrb }}, {{ arg }}, {{ arg_type[0] }}, context: {{ context }})\n    {% else %}{% if (!arg_type.resolve?) && context %}\n      MrbMacro.convert_arg({{ mrb }}, {{ arg }}, {{ context }}::{{ arg_type }})\n    {% else %}{% if arg_type.resolve <= Bool %}\n      ({{ arg }} != 0)\n    {% else %}{% if arg_type.resolve <= Int %}\n      {{ arg_type }}.new({{ arg }})\n    {% else %}{% if arg_type.resolve <= Float %}\n      {{ arg_type }}.new({{ arg }})\n    {% else %}{% if arg_type.resolve <= String %}\n      {{ arg_type }}.new({{ arg }})\n    {% else %}{% if arg_type.resolve <= Struct %}\n      MrbMacro.convert_from_ruby_struct({{ mrb }}, {{ arg }}, {{ arg_type }}).value.content\n    {% else %}\n      MrbMacro.convert_from_ruby_object({{ mrb }}, {{ arg }}, {{ arg_type }}).value\n    {% end %}{% end %}{% end %}{% end %}{% end %}{% end %}{% end %}\n\n  \n"}},{"id":"convert_args(mrb,args,proc_args,context)-macro","html_id":"convert_args(mrb,args,proc_args,context)-macro","name":"convert_args","doc":null,"summary":null,"abstract":false,"args":[{"name":"mrb","doc":null,"default_value":"","external_name":"mrb","restriction":""},{"name":"args","doc":null,"default_value":"","external_name":"args","restriction":""},{"name":"proc_args","doc":null,"default_value":"","external_name":"proc_args","restriction":""},{"name":"context","doc":null,"default_value":"","external_name":"context","restriction":""}],"args_string":"(mrb, args, proc_args, context)","source_link":"https://github.com/Anyolite/anyolite/blob/v0.4.0-pre/src/MrbMacro.cr#L254","def":{"name":"convert_args","args":[{"name":"mrb","doc":null,"default_value":"","external_name":"mrb","restriction":""},{"name":"args","doc":null,"default_value":"","external_name":"args","restriction":""},{"name":"proc_args","doc":null,"default_value":"","external_name":"proc_args","restriction":""},{"name":"context","doc":null,"default_value":"","external_name":"context","restriction":""}],"double_splat":null,"splat_index":null,"block_arg":null,"visibility":"Public","body":"    Tuple.new(\n      \n{% c = 0 %}\n\n      \n{% for arg in proc_args %}\n        MrbMacro.convert_arg({{ mrb }}, {{ args }}[{{ c }}].value, {{ arg }}, context: {{ context }}),\n        {% c += 1 %}\n      {% end %}\n\n    )\n  \n"}},{"id":"convert_from_ruby_object(mrb,obj,crystal_type)-macro","html_id":"convert_from_ruby_object(mrb,obj,crystal_type)-macro","name":"convert_from_ruby_object","doc":null,"summary":null,"abstract":false,"args":[{"name":"mrb","doc":null,"default_value":"","external_name":"mrb","restriction":""},{"name":"obj","doc":null,"default_value":"","external_name":"obj","restriction":""},{"name":"crystal_type","doc":null,"default_value":"","external_name":"crystal_type","restriction":""}],"args_string":"(mrb, obj, crystal_type)","source_link":"https://github.com/Anyolite/anyolite/blob/v0.4.0-pre/src/MrbMacro.cr#L133","def":{"name":"convert_from_ruby_object","args":[{"name":"mrb","doc":null,"default_value":"","external_name":"mrb","restriction":""},{"name":"obj","doc":null,"default_value":"","external_name":"obj","restriction":""},{"name":"crystal_type","doc":null,"default_value":"","external_name":"crystal_type","restriction":""}],"double_splat":null,"splat_index":null,"block_arg":null,"visibility":"Public","body":"    if MrbInternal.mrb_obj_is_kind_of(\n{{ mrb }}\n, \n{{ obj }}\n, MrbClassCache.get(\n{{ crystal_type }}\n)) == 0\n      obj_class = MrbInternal.get_class_of_obj(\n{{ mrb }}\n, \n{{ obj }}\n)\n      \n# TODO: Raise argument error in mruby instead\n\n      raise(\"ERROR: Invalid data type #{obj_class} for object #{\n{{ obj }}\n}:\\n Should be #{\n{{ crystal_type }}\n} -> MrbClassCache.get(\n{{ crystal_type }}\n) instead.\")\n    \nend\n\n    ptr = MrbInternal.get_data_ptr(\n{{ obj }}\n)\n    ptr.as(\n{{ crystal_type }}\n*)\n  \n"}},{"id":"convert_from_ruby_struct(mrb,obj,crystal_type)-macro","html_id":"convert_from_ruby_struct(mrb,obj,crystal_type)-macro","name":"convert_from_ruby_struct","doc":null,"summary":null,"abstract":false,"args":[{"name":"mrb","doc":null,"default_value":"","external_name":"mrb","restriction":""},{"name":"obj","doc":null,"default_value":"","external_name":"obj","restriction":""},{"name":"crystal_type","doc":null,"default_value":"","external_name":"crystal_type","restriction":""}],"args_string":"(mrb, obj, crystal_type)","source_link":"https://github.com/Anyolite/anyolite/blob/v0.4.0-pre/src/MrbMacro.cr#L144","def":{"name":"convert_from_ruby_struct","args":[{"name":"mrb","doc":null,"default_value":"","external_name":"mrb","restriction":""},{"name":"obj","doc":null,"default_value":"","external_name":"obj","restriction":""},{"name":"crystal_type","doc":null,"default_value":"","external_name":"crystal_type","restriction":""}],"double_splat":null,"splat_index":null,"block_arg":null,"visibility":"Public","body":"    if MrbInternal.mrb_obj_is_kind_of(\n{{ mrb }}\n, \n{{ obj }}\n, MrbClassCache.get(\n{{ crystal_type }}\n)) == 0\n      obj_class = MrbInternal.get_class_of_obj(\n{{ mrb }}\n, \n{{ obj }}\n)\n      \n# TODO: Raise argument error in mruby instead\n\n      raise(\"ERROR: Invalid data type #{obj_class} for object #{\n{{ obj }}\n}:\\n Should be #{\n{{ crystal_type }}\n} -> MrbClassCache.get(\n{{ crystal_type }}\n) instead.\")\n    \nend\n    \n    ptr = MrbInternal.get_data_ptr(\n{{ obj }}\n)\n    ptr.as(MrbWrap::StructWrapper(\n{{ crystal_type }}\n)*)\n  \n"}},{"id":"convert_keyword_arg(mrb,arg,arg_type,context=nil)-macro","html_id":"convert_keyword_arg(mrb,arg,arg_type,context=nil)-macro","name":"convert_keyword_arg","doc":null,"summary":null,"abstract":false,"args":[{"name":"mrb","doc":null,"default_value":"","external_name":"mrb","restriction":""},{"name":"arg","doc":null,"default_value":"","external_name":"arg","restriction":""},{"name":"arg_type","doc":null,"default_value":"","external_name":"arg_type","restriction":""},{"name":"context","doc":null,"default_value":"nil","external_name":"context","restriction":""}],"args_string":"(mrb, arg, arg_type, context = <span class=\"n\">nil</span>)","source_link":"https://github.com/Anyolite/anyolite/blob/v0.4.0-pre/src/MrbMacro.cr#L109","def":{"name":"convert_keyword_arg","args":[{"name":"mrb","doc":null,"default_value":"","external_name":"mrb","restriction":""},{"name":"arg","doc":null,"default_value":"","external_name":"arg","restriction":""},{"name":"arg_type","doc":null,"default_value":"","external_name":"arg_type","restriction":""},{"name":"context","doc":null,"default_value":"nil","external_name":"context","restriction":""}],"double_splat":null,"splat_index":null,"block_arg":null,"visibility":"Public","body":"    \n{% if arg_type.class_name == \"TupleLiteral\" %}\n      if MrbCast.is_undef?({{ arg }})\n        {{ arg_type[1] }}\n      else\n        MrbMacro.convert_keyword_arg({{ mrb }}, {{ arg }}, {{ arg_type[0] }}, context: {{ context }})\n      end\n    {% else %}{% if (!arg_type.resolve?) && context %}\n      MrbMacro.convert_keyword_arg({{ mrb }}, {{ arg }}, {{ context }}::{{ arg_type }})\n    {% else %}{% if arg_type.resolve <= Bool %}\n      MrbCast.cast_to_bool({{ mrb }}, {{ arg }})\n    {% else %}{% if arg_type.resolve <= Int %}\n      {{ arg_type }}.new(MrbCast.cast_to_int({{ mrb }}, {{ arg }}))\n    {% else %}{% if arg_type.resolve <= Float %}\n     {{ arg_type }}.new( MrbCast.cast_to_float({{ mrb }}, {{ arg }}))\n    {% else %}{% if arg_type.resolve <= String %}\n      MrbCast.cast_to_string({{ mrb }}, {{ arg }})\n    {% else %}{% if arg_type.resolve <= Struct %}\n      MrbMacro.convert_from_ruby_struct({{ mrb }}, {{ arg }}, {{ arg_type }}).value.content\n    {% else %}\n      MrbMacro.convert_from_ruby_object({{ mrb }}, {{ arg }}, {{ arg_type }}).value\n    {% end %}{% end %}{% end %}{% end %}{% end %}{% end %}{% end %}\n\n  \n"}},{"id":"format_char(arg,optional_values=false,context=nil)-macro","html_id":"format_char(arg,optional_values=false,context=nil)-macro","name":"format_char","doc":null,"summary":null,"abstract":false,"args":[{"name":"arg","doc":null,"default_value":"","external_name":"arg","restriction":""},{"name":"optional_values","doc":null,"default_value":"false","external_name":"optional_values","restriction":""},{"name":"context","doc":null,"default_value":"nil","external_name":"context","restriction":""}],"args_string":"(arg, optional_values = <span class=\"n\">false</span>, context = <span class=\"n\">nil</span>)","source_link":"https://github.com/Anyolite/anyolite/blob/v0.4.0-pre/src/MrbMacro.cr#L11","def":{"name":"format_char","args":[{"name":"arg","doc":null,"default_value":"","external_name":"arg","restriction":""},{"name":"optional_values","doc":null,"default_value":"false","external_name":"optional_values","restriction":""},{"name":"context","doc":null,"default_value":"nil","external_name":"context","restriction":""}],"double_splat":null,"splat_index":null,"block_arg":null,"visibility":"Public","body":"    \n{% if arg.class_name == \"TupleLiteral\" %}\n      {% if optional_values != true %}\n        \"|\" + MrbMacro.format_char({{ arg[0] }}, optional_values: true, context: {{ context }})\n      {% else %}\n        MrbMacro.format_char({{ arg[0] }}, optional_values: true, context: {{ context }})\n      {% end %}\n    {% else %}{% if (!arg.resolve?) && context %}\n      MrbMacro.format_char({{ context }}::{{ arg }}, optional_values: {{ optional_values }})\n    {% else %}{% if arg.resolve <= Bool %}\n      \"b\"\n    {% else %}{% if arg.resolve <= Int %}\n      \"i\"\n    {% else %}{% if arg.resolve <= Float %}\n      \"f\"\n    {% else %}{% if arg.resolve <= String %}\n      \"z\"\n    {% else %}\n      \"o\"\n    {% end %}{% end %}{% end %}{% end %}{% end %}{% end %}\n\n  \n"}},{"id":"format_string(args,context=nil)-macro","html_id":"format_string(args,context=nil)-macro","name":"format_string","doc":null,"summary":null,"abstract":false,"args":[{"name":"args","doc":null,"default_value":"","external_name":"args","restriction":""},{"name":"context","doc":null,"default_value":"nil","external_name":"context","restriction":""}],"args_string":"(args, context = <span class=\"n\">nil</span>)","source_link":"https://github.com/Anyolite/anyolite/blob/v0.4.0-pre/src/MrbMacro.cr#L3","def":{"name":"format_string","args":[{"name":"args","doc":null,"default_value":"","external_name":"args","restriction":""},{"name":"context","doc":null,"default_value":"nil","external_name":"context","restriction":""}],"double_splat":null,"splat_index":null,"block_arg":null,"visibility":"Public","body":"    \"\" +\n    \n{% for arg in args %}\n      MrbMacro.format_char({{ arg }}, context: {{ context }}) +\n    {% end %}\n\n    \"\"\n  \n"}},{"id":"generate_arg_tuple(args,context=nil)-macro","html_id":"generate_arg_tuple(args,context=nil)-macro","name":"generate_arg_tuple","doc":null,"summary":null,"abstract":false,"args":[{"name":"args","doc":null,"default_value":"","external_name":"args","restriction":""},{"name":"context","doc":null,"default_value":"nil","external_name":"context","restriction":""}],"args_string":"(args, context = <span class=\"n\">nil</span>)","source_link":"https://github.com/Anyolite/anyolite/blob/v0.4.0-pre/src/MrbMacro.cr#L69","def":{"name":"generate_arg_tuple","args":[{"name":"args","doc":null,"default_value":"","external_name":"args","restriction":""},{"name":"context","doc":null,"default_value":"nil","external_name":"context","restriction":""}],"double_splat":null,"splat_index":null,"block_arg":null,"visibility":"Public","body":"    Tuple.new(\n      \n{% for arg in args %}\n        {% if arg.class_name == \"TupleLiteral\" %}\n          MrbMacro.pointer_type({{ arg }}, context: {{ context }}).malloc(size: 1, value: MrbMacro.type_in_ruby({{ arg }}, context: {{ context }}).new({{ arg[1] }})),\n        {% else %}\n          MrbMacro.pointer_type({{ arg }}, context: {{ context }}).malloc(size: 1),\n        {% end %}\n      {% end %}\n\n    )\n  \n"}},{"id":"generate_keyword_argument_struct(keyword_args)-macro","html_id":"generate_keyword_argument_struct(keyword_args)-macro","name":"generate_keyword_argument_struct","doc":null,"summary":null,"abstract":false,"args":[{"name":"keyword_args","doc":null,"default_value":"","external_name":"keyword_args","restriction":""}],"args_string":"(keyword_args)","source_link":"https://github.com/Anyolite/anyolite/blob/v0.4.0-pre/src/MrbMacro.cr#L300","def":{"name":"generate_keyword_argument_struct","args":[{"name":"keyword_args","doc":null,"default_value":"","external_name":"keyword_args","restriction":""}],"double_splat":null,"splat_index":null,"block_arg":null,"visibility":"Public","body":"    kw_names = MrbMacro.generate_keyword_names(\n{{ keyword_args }}\n)\n    kw_args = MrbInternal::KWArgs.new\n    kw_args.num = \n{{ keyword_args.size }}\n\n    kw_args.values = Pointer(MrbInternal::MrbValue).malloc(size: \n{{ keyword_args.size }}\n)\n    kw_args.table = kw_names\n    kw_args.required = \n{{ keyword_args.values.select do |i|\n  i.class_name != \"TupleLiteral\"\nend.size }}\n\n    kw_args.rest = Pointer(MrbInternal::MrbValue).malloc(size: 1)\n    kw_args\n  \n"}},{"id":"generate_keyword_names(keyword_args)-macro","html_id":"generate_keyword_names(keyword_args)-macro","name":"generate_keyword_names","doc":null,"summary":null,"abstract":false,"args":[{"name":"keyword_args","doc":null,"default_value":"","external_name":"keyword_args","restriction":""}],"args_string":"(keyword_args)","source_link":"https://github.com/Anyolite/anyolite/blob/v0.4.0-pre/src/MrbMacro.cr#L311","def":{"name":"generate_keyword_names","args":[{"name":"keyword_args","doc":null,"default_value":"","external_name":"keyword_args","restriction":""}],"double_splat":null,"splat_index":null,"block_arg":null,"visibility":"Public","body":"    [\n      \n{% for keyword in keyword_args.keys %}\n        {{ keyword }}.to_s.to_unsafe,\n      {% end %}\n\n    ]\n  \n"}},{"id":"get_converted_args(mrb,proc_args,context)-macro","html_id":"get_converted_args(mrb,proc_args,context)-macro","name":"get_converted_args","doc":null,"summary":null,"abstract":false,"args":[{"name":"mrb","doc":null,"default_value":"","external_name":"mrb","restriction":""},{"name":"proc_args","doc":null,"default_value":"","external_name":"proc_args","restriction":""},{"name":"context","doc":null,"default_value":"","external_name":"context","restriction":""}],"args_string":"(mrb, proc_args, context)","source_link":"https://github.com/Anyolite/anyolite/blob/v0.4.0-pre/src/MrbMacro.cr#L264","def":{"name":"get_converted_args","args":[{"name":"mrb","doc":null,"default_value":"","external_name":"mrb","restriction":""},{"name":"proc_args","doc":null,"default_value":"","external_name":"proc_args","restriction":""},{"name":"context","doc":null,"default_value":"","external_name":"context","restriction":""}],"double_splat":null,"splat_index":null,"block_arg":null,"visibility":"Public","body":"    args = MrbMacro.generate_arg_tuple(\n{{ proc_args }}\n, context: \n{{ context }}\n)\n    format_string = MrbMacro.format_string(\n{{ proc_args }}\n, context: \n{{ context }}\n)\n    \n    MrbInternal.mrb_get_args(\n{{ mrb }}\n, format_string, *args)\n\n    MrbMacro.convert_args(\n{{ mrb }}\n, args, \n{{ proc_args }}\n, context: \n{{ context }}\n)\n  \n"}},{"id":"get_raw_args(mrb,proc_args,context=nil)-macro","html_id":"get_raw_args(mrb,proc_args,context=nil)-macro","name":"get_raw_args","doc":null,"summary":null,"abstract":false,"args":[{"name":"mrb","doc":null,"default_value":"","external_name":"mrb","restriction":""},{"name":"proc_args","doc":null,"default_value":"","external_name":"proc_args","restriction":""},{"name":"context","doc":null,"default_value":"nil","external_name":"context","restriction":""}],"args_string":"(mrb, proc_args, context = <span class=\"n\">nil</span>)","source_link":"https://github.com/Anyolite/anyolite/blob/v0.4.0-pre/src/MrbMacro.cr#L81","def":{"name":"get_raw_args","args":[{"name":"mrb","doc":null,"default_value":"","external_name":"mrb","restriction":""},{"name":"proc_args","doc":null,"default_value":"","external_name":"proc_args","restriction":""},{"name":"context","doc":null,"default_value":"nil","external_name":"context","restriction":""}],"double_splat":null,"splat_index":null,"block_arg":null,"visibility":"Public","body":"    args = MrbMacro.generate_arg_tuple(\n{{ proc_args }}\n, context: \n{{ context }}\n)\n    format_string = MrbMacro.format_string(\n{{ proc_args }}\n, context: \n{{ context }}\n)\n    MrbInternal.mrb_get_args(\n{{ mrb }}\n, format_string, *args)\n    args\n  \n"}},{"id":"pointer_type(type,context=nil)-macro","html_id":"pointer_type(type,context=nil)-macro","name":"pointer_type","doc":null,"summary":null,"abstract":false,"args":[{"name":"type","doc":null,"default_value":"","external_name":"type","restriction":""},{"name":"context","doc":null,"default_value":"nil","external_name":"context","restriction":""}],"args_string":"(type, context = <span class=\"n\">nil</span>)","source_link":"https://github.com/Anyolite/anyolite/blob/v0.4.0-pre/src/MrbMacro.cr#L51","def":{"name":"pointer_type","args":[{"name":"type","doc":null,"default_value":"","external_name":"type","restriction":""},{"name":"context","doc":null,"default_value":"nil","external_name":"context","restriction":""}],"double_splat":null,"splat_index":null,"block_arg":null,"visibility":"Public","body":"    \n{% if type.class_name == \"TupleLiteral\" %}\n      MrbMacro.pointer_type({{ type[0] }}, context: {{ context }})\n    {% else %}{% if (!type.resolve?) && context %}\n      MrbMacro.pointer_type({{ context }}::{{ type }})\n    {% else %}{% if type.resolve <= Bool %}\n      Pointer(MrbInternal::MrbBool)\n    {% else %}{% if type.resolve <= Int %}\n      Pointer(MrbInternal::MrbInt)\n    {% else %}{% if type.resolve <= Float %}\n      Pointer(MrbInternal::MrbFloat)\n    {% else %}{% if type.resolve <= String %}\n      Pointer(LibC::Char*)\n    {% else %}\n      Pointer(MrbInternal::MrbValue)\n    {% end %}{% end %}{% end %}{% end %}{% end %}{% end %}\n\n  \n"}},{"id":"type_in_ruby(type,context=nil)-macro","html_id":"type_in_ruby(type,context=nil)-macro","name":"type_in_ruby","doc":null,"summary":null,"abstract":false,"args":[{"name":"type","doc":null,"default_value":"","external_name":"type","restriction":""},{"name":"context","doc":null,"default_value":"nil","external_name":"context","restriction":""}],"args_string":"(type, context = <span class=\"n\">nil</span>)","source_link":"https://github.com/Anyolite/anyolite/blob/v0.4.0-pre/src/MrbMacro.cr#L33","def":{"name":"type_in_ruby","args":[{"name":"type","doc":null,"default_value":"","external_name":"type","restriction":""},{"name":"context","doc":null,"default_value":"nil","external_name":"context","restriction":""}],"double_splat":null,"splat_index":null,"block_arg":null,"visibility":"Public","body":"    \n{% if type.class_name == \"TupleLiteral\" %}\n      MrbMacro.type_in_ruby({{ type[0] }})  # TODO: Allow nil for regular arguments as default\n    {% else %}{% if (!type.resolve?) && context %}\n      MrbMacro.type_in_ruby({{ context }}::{{ type }})\n    {% else %}{% if type.resolve <= Bool %}\n      MrbInternal::MrbBool\n    {% else %}{% if type.resolve <= Int %}\n      MrbInternal::MrbInt\n    {% else %}{% if type.resolve <= Float %}\n      MrbInternal::MrbFloat\n    {% else %}{% if type.resolve <= String %}  # TODO: Default string arguments do not work here yet, can this be fixed?\n      LibC::Char*\n    {% else %}\n      MrbInternal::MrbValue\n    {% end %}{% end %}{% end %}{% end %}{% end %}{% end %}\n\n  \n"}},{"id":"wrap_all_class_methods(mrb_state,crystal_class,exclusions,verbose,context=nil)-macro","html_id":"wrap_all_class_methods(mrb_state,crystal_class,exclusions,verbose,context=nil)-macro","name":"wrap_all_class_methods","doc":null,"summary":null,"abstract":false,"args":[{"name":"mrb_state","doc":null,"default_value":"","external_name":"mrb_state","restriction":""},{"name":"crystal_class","doc":null,"default_value":"","external_name":"crystal_class","restriction":""},{"name":"exclusions","doc":null,"default_value":"","external_name":"exclusions","restriction":""},{"name":"verbose","doc":null,"default_value":"","external_name":"verbose","restriction":""},{"name":"context","doc":null,"default_value":"nil","external_name":"context","restriction":""}],"args_string":"(mrb_state, crystal_class, exclusions, verbose, context = <span class=\"n\">nil</span>)","source_link":"https://github.com/Anyolite/anyolite/blob/v0.4.0-pre/src/MrbMacro.cr#L722","def":{"name":"wrap_all_class_methods","args":[{"name":"mrb_state","doc":null,"default_value":"","external_name":"mrb_state","restriction":""},{"name":"crystal_class","doc":null,"default_value":"","external_name":"crystal_class","restriction":""},{"name":"exclusions","doc":null,"default_value":"","external_name":"exclusions","restriction":""},{"name":"verbose","doc":null,"default_value":"","external_name":"verbose","restriction":""},{"name":"context","doc":null,"default_value":"nil","external_name":"context","restriction":""}],"double_splat":null,"splat_index":null,"block_arg":null,"visibility":"Public","body":"    \n{% has_specialized_method = {} of String => Bool %}\n\n\n    \n{% for method in crystal_class.resolve.class.methods %}\n      {% all_annotations_specialize_im = crystal_class.resolve.annotations(MrbWrap::SpecializeClassMethod) %}\n      {% annotation_specialize_im = all_annotations_specialize_im.find do |element|\n  element[0].stringify == method.name.stringify\nend %}\n\n      {% if method.annotation(MrbWrap::Specialize) %}\n        {% has_specialized_method[method.name.stringify] = true %}\n      {% end %}\n\n      {% if annotation_specialize_im %}\n        {% has_specialized_method[annotation_specialize_im[0].stringify] = true %}\n      {% end %}\n    {% end %}\n\n\n    \n{% how_many_times_wrapped = {} of String => UInt32 %}\n\n\n    \n# TODO: Replace all im here with cm\n\n    \n{% for method, index in crystal_class.resolve.class.methods %}\n      {% all_annotations_exclude_im = crystal_class.resolve.annotations(MrbWrap::ExcludeClassMethod) %}\n      {% annotation_exclude_im = all_annotations_exclude_im.find do |element|\n  element[0].stringify == method.name.stringify\nend %}\n\n      {% all_annotations_specialize_im = crystal_class.resolve.annotations(MrbWrap::SpecializeClassMethod) %}\n      {% annotation_specialize_im = all_annotations_specialize_im.find do |element|\n  element[0].stringify == method.name.stringify\nend %}\n\n      {% all_annotations_rename_im = crystal_class.resolve.annotations(MrbWrap::RenameClassMethod) %}\n      {% annotation_rename_im = all_annotations_rename_im.find do |element|\n  element[0].stringify == method.name.stringify\nend %}\n\n      {% all_annotations_without_keywords_im = crystal_class.resolve.annotations(MrbWrap::WrapWithoutKeywordsClassMethod) %}\n      {% annotation_without_keyword_im = all_annotations_without_keywords_im.find do |element|\n  element[0].stringify == method.name.stringify\nend %}\n\n      {% if method.annotation(MrbWrap::Rename) %}\n        {% ruby_name = (method.annotation(MrbWrap::Rename))[0].id %}\n      {% else %}{% if annotation_rename_im && (method.name.stringify == annotation_rename_im[0].stringify) %}\n        {% ruby_name = annotation_rename_im[1].id %}\n      {% else %}\n        {% ruby_name = method.name %}\n      {% end %}{% end %}\n\n      {% added_keyword_args = nil %}\n\n      {% if (method.annotation(MrbWrap::Specialize)) && (method.annotation(MrbWrap::Specialize))[1] %}\n        {% added_keyword_args = (method.annotation(MrbWrap::Specialize))[1] %}\n      {% end %}\n\n      {% if annotation_specialize_im && (method.args.stringify == annotation_specialize_im[1].stringify) %}\n        {% added_keyword_args = annotation_specialize_im[2] %}\n      {% end %}\n\n      {% without_keywords = false %}\n\n      {% if (method.annotation(MrbWrap::WrapWithoutKeywords)) || annotation_without_keyword_im %}\n        {% without_keywords = true %}\n      {% end %}\n\n      # We already wrapped 'initialize', so we don't need to wrap these\n      {% if (method.name == \"allocate\") || (method.name == \"new\") %}\n      # Exclude methods if given as arguments\n      {% else %}{% if (exclusions.includes?(method.name.symbolize)) || (exclusions.includes?(method.name)) %}\n        {% if verbose\n  puts(\"--> Excluding #{crystal_class}::#{method.name} (Exclusion argument)\")\nend %}\n      # Exclude methods which were annotated to be excluded\n      {% else %}{% if (method.annotation(MrbWrap::Exclude)) || (annotation_exclude_im) %}\n        {% if verbose\n  puts(\"--> Excluding #{crystal_class}::#{method.name} (Exclusion annotation)\")\nend %}\n      # Exclude methods which are not the specialized methods\n      {% else %}{% if has_specialized_method[method.name.stringify] && (!((method.annotation(MrbWrap::Specialize)) || (annotation_specialize_im && (method.args.stringify == annotation_specialize_im[1].stringify)))) %}\n        {% if verbose\n  puts(\"--> Excluding #{crystal_class}::#{method.name} (Specialization 1)\")\nend %}\n      # Handle other class methods\n      {% else %}\n        MrbMacro.wrap_method_index({{ mrb_state }}, {{ crystal_class }}, {{ index }}, \"{{ ruby_name }}\", is_class_method: true, without_keywords: {{ without_keywords }}, added_keyword_args: {{ added_keyword_args }}, context: {{ context }})\n        {% how_many_times_wrapped[ruby_name.stringify] = how_many_times_wrapped[ruby_name.stringify] ? how_many_times_wrapped[ruby_name.stringify] + 1 : 1 %}\n      {% end %}{% end %}{% end %}{% end %}\n\n      {% if how_many_times_wrapped[ruby_name.stringify] && how_many_times_wrapped[ruby_name.stringify] > 1 %}\n        {% puts(\"\\e[31m> WARNING: Method #{crystal_class}::#{ruby_name}\\n--> New arguments: #{method.args}\\n--> Wrapped more than once (#{how_many_times_wrapped[ruby_name.stringify]}).\\e[0m\") %}\n      {% end %}\n    {% end %}\n\n  \n"}},{"id":"wrap_all_constants(mrb_state,crystal_class,exclusions,verbose)-macro","html_id":"wrap_all_constants(mrb_state,crystal_class,exclusions,verbose)-macro","name":"wrap_all_constants","doc":null,"summary":null,"abstract":false,"args":[{"name":"mrb_state","doc":null,"default_value":"","external_name":"mrb_state","restriction":""},{"name":"crystal_class","doc":null,"default_value":"","external_name":"crystal_class","restriction":""},{"name":"exclusions","doc":null,"default_value":"","external_name":"exclusions","restriction":""},{"name":"verbose","doc":null,"default_value":"","external_name":"verbose","restriction":""}],"args_string":"(mrb_state, crystal_class, exclusions, verbose)","source_link":"https://github.com/Anyolite/anyolite/blob/v0.4.0-pre/src/MrbMacro.cr#L801","def":{"name":"wrap_all_constants","args":[{"name":"mrb_state","doc":null,"default_value":"","external_name":"mrb_state","restriction":""},{"name":"crystal_class","doc":null,"default_value":"","external_name":"crystal_class","restriction":""},{"name":"exclusions","doc":null,"default_value":"","external_name":"exclusions","restriction":""},{"name":"verbose","doc":null,"default_value":"","external_name":"verbose","restriction":""}],"double_splat":null,"splat_index":null,"block_arg":null,"visibility":"Public","body":"    \n{% for constant, index in crystal_class.resolve.constants %}\n      {% all_annotations_exclude_im = crystal_class.resolve.annotations(MrbWrap::ExcludeConstant) %}\n      {% annotation_exclude_im = all_annotations_exclude_im.find do |element|\n  element[0].stringify == constant.stringify\nend %}\n\n      {% all_annotations_rename_im = crystal_class.resolve.annotations(MrbWrap::RenameConstant) %}\n      {% annotation_rename_im = all_annotations_rename_im.find do |element|\n  element[0].stringify == constant.stringify\nend %}\n\n      {% if annotation_rename_im && (constant.stringify == annotation_rename_im[0].stringify) %}\n        {% ruby_name = annotation_rename_im[1].id %}\n      {% else %}\n        {% ruby_name = constant %}\n      {% end %}\n\n      # Exclude methods which were annotated to be excluded\n      {% if (exclusions.includes?(constant.symbolize)) || (exclusions.includes?(constant)) %}\n        {% if verbose\n  puts(\"--> Excluding #{crystal_class}::#{constant} (Exclusion argument)\")\nend %}\n      {% else %}{% if annotation_exclude_im %}\n        {% if verbose\n  puts(\"--> Excluding #{crystal_class}::#{constant} (Exclusion annotation)\")\nend %}\n      {% else %}\n        MrbMacro.wrap_constant_or_class({{ mrb_state }}, {{ crystal_class }}, \"{{ ruby_name }}\", {{ constant }}, {{ verbose }})\n      {% end %}{% end %}\n    {% end %}\n\n  \n"}},{"id":"wrap_all_instance_methods(mrb_state,crystal_class,exclusions,verbose,context=nil)-macro","html_id":"wrap_all_instance_methods(mrb_state,crystal_class,exclusions,verbose,context=nil)-macro","name":"wrap_all_instance_methods","doc":null,"summary":null,"abstract":false,"args":[{"name":"mrb_state","doc":null,"default_value":"","external_name":"mrb_state","restriction":""},{"name":"crystal_class","doc":null,"default_value":"","external_name":"crystal_class","restriction":""},{"name":"exclusions","doc":null,"default_value":"","external_name":"exclusions","restriction":""},{"name":"verbose","doc":null,"default_value":"","external_name":"verbose","restriction":""},{"name":"context","doc":null,"default_value":"nil","external_name":"context","restriction":""}],"args_string":"(mrb_state, crystal_class, exclusions, verbose, context = <span class=\"n\">nil</span>)","source_link":"https://github.com/Anyolite/anyolite/blob/v0.4.0-pre/src/MrbMacro.cr#L617","def":{"name":"wrap_all_instance_methods","args":[{"name":"mrb_state","doc":null,"default_value":"","external_name":"mrb_state","restriction":""},{"name":"crystal_class","doc":null,"default_value":"","external_name":"crystal_class","restriction":""},{"name":"exclusions","doc":null,"default_value":"","external_name":"exclusions","restriction":""},{"name":"verbose","doc":null,"default_value":"","external_name":"verbose","restriction":""},{"name":"context","doc":null,"default_value":"nil","external_name":"context","restriction":""}],"double_splat":null,"splat_index":null,"block_arg":null,"visibility":"Public","body":"    \n{% has_specialized_method = {} of String => Bool %}\n\n\n    \n{% for method in crystal_class.resolve.methods %}\n      {% all_annotations_specialize_im = crystal_class.resolve.annotations(MrbWrap::SpecializeInstanceMethod) %}\n      {% annotation_specialize_im = all_annotations_specialize_im.find do |element|\n  element[0].stringify == method.name.stringify\nend %}\n\n      {% if method.annotation(MrbWrap::Specialize) %}\n        {% has_specialized_method[method.name.stringify] = true %}\n      {% end %}\n\n      {% if annotation_specialize_im %}\n        {% has_specialized_method[annotation_specialize_im[0].stringify] = true %}\n      {% end %}\n    {% end %}\n\n\n    \n{% how_many_times_wrapped = {} of String => UInt32 %}\n\n\n    \n{% for method, index in crystal_class.resolve.methods %}\n      {% all_annotations_exclude_im = crystal_class.resolve.annotations(MrbWrap::ExcludeInstanceMethod) %}\n      {% annotation_exclude_im = all_annotations_exclude_im.find do |element|\n  element[0].stringify == method.name.stringify\nend %}\n\n      {% all_annotations_specialize_im = crystal_class.resolve.annotations(MrbWrap::SpecializeInstanceMethod) %}\n      {% annotation_specialize_im = all_annotations_specialize_im.find do |element|\n  element[0].stringify == method.name.stringify\nend %}\n\n      {% all_annotations_rename_im = crystal_class.resolve.annotations(MrbWrap::RenameInstanceMethod) %}\n      {% annotation_rename_im = all_annotations_rename_im.find do |element|\n  element[0].stringify == method.name.stringify\nend %}\n\n      {% all_annotations_without_keywords_im = crystal_class.resolve.annotations(MrbWrap::WrapWithoutKeywordsInstanceMethod) %}\n      {% annotation_without_keyword_im = all_annotations_without_keywords_im.find do |element|\n  element[0].stringify == method.name.stringify\nend %}\n\n      {% if method.annotation(MrbWrap::Rename) %}\n        {% ruby_name = (method.annotation(MrbWrap::Rename))[0].id %}\n      {% else %}{% if annotation_rename_im && (method.name.stringify == annotation_rename_im[0].stringify) %}\n        {% ruby_name = annotation_rename_im[1].id %}\n      {% else %}\n        {% ruby_name = method.name %}\n      {% end %}{% end %}\n\n      {% added_keyword_args = nil %}\n\n      {% if (method.annotation(MrbWrap::Specialize)) && (method.annotation(MrbWrap::Specialize))[0] %}\n        {% added_keyword_args = (method.annotation(MrbWrap::Specialize))[0] %}\n      {% end %}\n\n      {% if annotation_specialize_im && (method.args.stringify == annotation_specialize_im[1].stringify) %}\n        {% added_keyword_args = annotation_specialize_im[2] %}\n      {% end %}\n\n      {% without_keywords = false %}\n\n      {% if (method.annotation(MrbWrap::WrapWithoutKeywords)) || annotation_without_keyword_im %}\n        {% without_keywords = true %}\n      {% end %}\n\n      {% if verbose\n  puts(\"> Processing #{crystal_class}::#{method.name} to #{ruby_name}\")\nend %}\n      # Ignore mrb hooks and finalize (unless specialized, but this is not recommended)\n      {% if ((method.name.starts_with?(\"mrb_\")) || (method.name == \"finalize\")) && (!has_specialized_method[method.name.stringify]) %}\n      # Exclude methods if given as arguments\n      {% else %}{% if (exclusions.includes?(method.name.symbolize)) || (exclusions.includes?(method.name)) %}\n        {% if verbose\n  puts(\"--> Excluding #{crystal_class}::#{method.name} (Exclusion argument)\")\nend %}\n      # Exclude methods which were annotated to be excluded\n      {% else %}{% if (method.annotation(MrbWrap::Exclude)) || (annotation_exclude_im) %}\n        {% if verbose\n  puts(\"--> Excluding #{crystal_class}::#{method.name} (Exclusion annotation)\")\nend %}\n      # Exclude methods which are not the specialized methods\n      {% else %}{% if has_specialized_method[method.name.stringify] && (!((method.annotation(MrbWrap::Specialize)) || (annotation_specialize_im && (method.args.stringify == annotation_specialize_im[1].stringify)))) %}\n        {% if verbose\n  puts(\"--> Excluding #{crystal_class}::#{method.name} #{method.args} (Specialization 1)\")\nend %}\n      # Handle operator methods (including setters)\n      {% else %}{% if method.name =~ (/\\W/) %}\n        {% without_operator = method.name.gsub(/\\W/, \"\") %}\n        {% operator = method.name.tr(without_operator.stringify, \"\") %}\n\n        {% if without_operator.empty? %}\n          MrbMacro.wrap_method_index({{ mrb_state }}, {{ crystal_class }}, {{ index }}, \"{{ ruby_name }}\", operator: \"{{ operator }}\", without_keywords: true, context: {{ context }})\n        {% else %}\n          MrbMacro.wrap_method_index({{ mrb_state }}, {{ crystal_class }}, {{ index }}, \"{{ ruby_name }}\", operator: \"{{ operator }}\", cut_name: {{ without_operator }}, without_keywords: true, context: {{ context }})\n        {% end %}\n        {% how_many_times_wrapped[ruby_name.stringify] = how_many_times_wrapped[ruby_name.stringify] ? how_many_times_wrapped[ruby_name.stringify] + 1 : 1 %}\n      # Handle constructors\n      {% else %}{% if method.name == \"initialize\" %}\n        MrbMacro.wrap_method_index({{ mrb_state }}, {{ crystal_class }}, {{ index }}, \"{{ ruby_name }}\", is_constructor: true, without_keywords: {{ without_keywords }}, added_keyword_args: {{ added_keyword_args }}, context: {{ context }})\n        {% how_many_times_wrapped[ruby_name.stringify] = how_many_times_wrapped[ruby_name.stringify] ? how_many_times_wrapped[ruby_name.stringify] + 1 : 1 %}\n      # Handle other instance methods\n      {% else %}\n        MrbMacro.wrap_method_index({{ mrb_state }}, {{ crystal_class }}, {{ index }}, \"{{ ruby_name }}\", without_keywords: {{ without_keywords }}, added_keyword_args: {{ added_keyword_args }}, context: {{ context }})\n        {% how_many_times_wrapped[ruby_name.stringify] = how_many_times_wrapped[ruby_name.stringify] ? how_many_times_wrapped[ruby_name.stringify] + 1 : 1 %}\n      {% end %}{% end %}{% end %}{% end %}{% end %}{% end %}\n\n      {% if how_many_times_wrapped[ruby_name.stringify] && how_many_times_wrapped[ruby_name.stringify] > 1 %}\n        {% puts(\"\\e[31m> WARNING: Method #{crystal_class}::#{ruby_name}\\n--> New arguments: #{method.args}\\n--> Wrapped more than once (#{how_many_times_wrapped[ruby_name.stringify]}).\\e[0m\") %}\n      {% end %}\n    {% end %}\n\n    \n    \n# Make sure to add a default constructor if none was specified with Crystal\n\n\n    \n{% if !how_many_times_wrapped[\"initialize\"] %}\n      MrbMacro.add_default_constructor({{ mrb_state }}, {{ crystal_class }}, {{ verbose }})\n    {% end %}\n\n  \n"}},{"id":"wrap_class_method_with_args(mrb_state,crystal_class,name,proc,proc_args=[]ofClass,operator=&quot;&quot;,context=nil)-macro","html_id":"wrap_class_method_with_args(mrb_state,crystal_class,name,proc,proc_args=[]ofClass,operator=&amp;quot;&amp;quot;,context=nil)-macro","name":"wrap_class_method_with_args","doc":null,"summary":null,"abstract":false,"args":[{"name":"mrb_state","doc":null,"default_value":"","external_name":"mrb_state","restriction":""},{"name":"crystal_class","doc":null,"default_value":"","external_name":"crystal_class","restriction":""},{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""},{"name":"proc","doc":null,"default_value":"","external_name":"proc","restriction":""},{"name":"proc_args","doc":null,"default_value":"[] of Class","external_name":"proc_args","restriction":""},{"name":"operator","doc":null,"default_value":"\"\"","external_name":"operator","restriction":""},{"name":"context","doc":null,"default_value":"nil","external_name":"context","restriction":""}],"args_string":"(mrb_state, crystal_class, name, proc, proc_args = <span class=\"o\">[]</span> <span class=\"k\">of</span> <span class=\"t\">Class</span>, operator = <span class=\"s\">&quot;&quot;</span>, context = <span class=\"n\">nil</span>)","source_link":"https://github.com/Anyolite/anyolite/blob/v0.4.0-pre/src/MrbMacro.cr#L362","def":{"name":"wrap_class_method_with_args","args":[{"name":"mrb_state","doc":null,"default_value":"","external_name":"mrb_state","restriction":""},{"name":"crystal_class","doc":null,"default_value":"","external_name":"crystal_class","restriction":""},{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""},{"name":"proc","doc":null,"default_value":"","external_name":"proc","restriction":""},{"name":"proc_args","doc":null,"default_value":"[] of Class","external_name":"proc_args","restriction":""},{"name":"operator","doc":null,"default_value":"\"\"","external_name":"operator","restriction":""},{"name":"context","doc":null,"default_value":"nil","external_name":"context","restriction":""}],"double_splat":null,"splat_index":null,"block_arg":null,"visibility":"Public","body":"    \n{% if proc_args.class_name == \"ArrayLiteral\" %}\n      {% proc_arg_array = proc_args %}\n    {% else %}\n      {% proc_arg_array = [proc_args] %}\n    {% end %}\n\n\n    wrapped_method = MrbFunc.new do |mrb, obj|\n      converted_args = MrbMacro.get_converted_args(mrb, \n{{ proc_arg_array }}\n, context: \n{{ context }}\n)\n      MrbMacro.call_and_return(mrb, \n{{ proc }}\n, \n{{ proc_arg_array }}\n, converted_args, operator: \n{{ operator }}\n)\n    \nend\n    \n    \n{{ mrb_state }}\n.define_class_method(\n{{ name }}\n, MrbClassCache.get(\n{{ crystal_class }}\n), wrapped_method)\n  \n"}},{"id":"wrap_class_method_with_keyword_args(mrb_state,crystal_class,name,proc,keyword_args,regular_args=[]ofClass,operator=&quot;&quot;,context=nil)-macro","html_id":"wrap_class_method_with_keyword_args(mrb_state,crystal_class,name,proc,keyword_args,regular_args=[]ofClass,operator=&amp;quot;&amp;quot;,context=nil)-macro","name":"wrap_class_method_with_keyword_args","doc":null,"summary":null,"abstract":false,"args":[{"name":"mrb_state","doc":null,"default_value":"","external_name":"mrb_state","restriction":""},{"name":"crystal_class","doc":null,"default_value":"","external_name":"crystal_class","restriction":""},{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""},{"name":"proc","doc":null,"default_value":"","external_name":"proc","restriction":""},{"name":"keyword_args","doc":null,"default_value":"","external_name":"keyword_args","restriction":""},{"name":"regular_args","doc":null,"default_value":"[] of Class","external_name":"regular_args","restriction":""},{"name":"operator","doc":null,"default_value":"\"\"","external_name":"operator","restriction":""},{"name":"context","doc":null,"default_value":"nil","external_name":"context","restriction":""}],"args_string":"(mrb_state, crystal_class, name, proc, keyword_args, regular_args = <span class=\"o\">[]</span> <span class=\"k\">of</span> <span class=\"t\">Class</span>, operator = <span class=\"s\">&quot;&quot;</span>, context = <span class=\"n\">nil</span>)","source_link":"https://github.com/Anyolite/anyolite/blob/v0.4.0-pre/src/MrbMacro.cr#L377","def":{"name":"wrap_class_method_with_keyword_args","args":[{"name":"mrb_state","doc":null,"default_value":"","external_name":"mrb_state","restriction":""},{"name":"crystal_class","doc":null,"default_value":"","external_name":"crystal_class","restriction":""},{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""},{"name":"proc","doc":null,"default_value":"","external_name":"proc","restriction":""},{"name":"keyword_args","doc":null,"default_value":"","external_name":"keyword_args","restriction":""},{"name":"regular_args","doc":null,"default_value":"[] of Class","external_name":"regular_args","restriction":""},{"name":"operator","doc":null,"default_value":"\"\"","external_name":"operator","restriction":""},{"name":"context","doc":null,"default_value":"nil","external_name":"context","restriction":""}],"double_splat":null,"splat_index":null,"block_arg":null,"visibility":"Public","body":"    \n{% if regular_args.class_name == \"ArrayLiteral\" %}\n      {% regular_arg_array = regular_args %}\n    {% else %}\n      {% regular_arg_array = [regular_args] %}\n    {% end %}\n\n\n    wrapped_method = MrbFunc.new do |mrb, obj|\n      regular_arg_tuple = MrbMacro.generate_arg_tuple(\n{{ regular_arg_array }}\n, context: \n{{ context }}\n)\n      format_string = MrbMacro.format_string(\n{{ regular_arg_array }}\n, context: \n{{ context }}\n) + \":\"\n\n      kw_args = MrbMacro.generate_keyword_argument_struct(\n{{ keyword_args }}\n)\n      MrbInternal.mrb_get_args(mrb, format_string, *regular_arg_tuple, pointerof(kw_args))\n\n      converted_regular_args = MrbMacro.convert_args(mrb, regular_arg_tuple, \n{{ regular_arg_array }}\n, context: \n{{ context }}\n)\n\n      \n{% if regular_arg_array.size == 0 %}\n        MrbMacro.call_and_return_keyword_method(mrb, {{ proc }}, converted_regular_args, {{ keyword_args }}, kw_args, operator: {{ operator }}, empty_regular: true)\n      {% else %}\n        MrbMacro.call_and_return_keyword_method(mrb, {{ proc }}, converted_regular_args, {{ keyword_args }}, kw_args, operator: {{ operator }})\n      {% end %}\n\n    \nend\n\n    \n{{ mrb_state }}\n.define_class_method(\n{{ name }}\n, MrbClassCache.get(\n{{ crystal_class }}\n), wrapped_method)\n  \n"}},{"id":"wrap_constant_or_class(mrb_state,under_class_or_module,ruby_name,value,verbose=false)-macro","html_id":"wrap_constant_or_class(mrb_state,under_class_or_module,ruby_name,value,verbose=false)-macro","name":"wrap_constant_or_class","doc":null,"summary":null,"abstract":false,"args":[{"name":"mrb_state","doc":null,"default_value":"","external_name":"mrb_state","restriction":""},{"name":"under_class_or_module","doc":null,"default_value":"","external_name":"under_class_or_module","restriction":""},{"name":"ruby_name","doc":null,"default_value":"","external_name":"ruby_name","restriction":""},{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":""},{"name":"verbose","doc":null,"default_value":"false","external_name":"verbose","restriction":""}],"args_string":"(mrb_state, under_class_or_module, ruby_name, value, verbose = <span class=\"n\">false</span>)","source_link":"https://github.com/Anyolite/anyolite/blob/v0.4.0-pre/src/MrbMacro.cr#L826","def":{"name":"wrap_constant_or_class","args":[{"name":"mrb_state","doc":null,"default_value":"","external_name":"mrb_state","restriction":""},{"name":"under_class_or_module","doc":null,"default_value":"","external_name":"under_class_or_module","restriction":""},{"name":"ruby_name","doc":null,"default_value":"","external_name":"ruby_name","restriction":""},{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":""},{"name":"verbose","doc":null,"default_value":"false","external_name":"verbose","restriction":""}],"double_splat":null,"splat_index":null,"block_arg":null,"visibility":"Public","body":"    \n{% actual_constant = under_class_or_module.resolve.constant(value.id) %}\n\n    \n{% if actual_constant.class_name == \"TypeNode\" %}\n      {% if actual_constant.module? %}\n        MrbWrap.wrap_module_with_methods({{ mrb_state }}, {{ actual_constant }}, under: {{ under_class_or_module }}, verbose: {{ verbose }})\n      {% else %}\n        MrbWrap.wrap_class_with_methods({{ mrb_state }}, {{ actual_constant }}, under: {{ under_class_or_module }}, verbose: {{ verbose }})\n      {% end %}\n    {% else %}\n      MrbWrap.wrap_constant_under_class({{ mrb_state }}, {{ under_class_or_module }}, {{ ruby_name }}, {{ under_class_or_module }}::{{ value }})\n    {% end %}\n\n  \n"}},{"id":"wrap_constructor_function_with_args(mrb_state,crystal_class,proc,proc_args=[]ofClass,operator=&quot;&quot;,context=nil)-macro","html_id":"wrap_constructor_function_with_args(mrb_state,crystal_class,proc,proc_args=[]ofClass,operator=&amp;quot;&amp;quot;,context=nil)-macro","name":"wrap_constructor_function_with_args","doc":null,"summary":null,"abstract":false,"args":[{"name":"mrb_state","doc":null,"default_value":"","external_name":"mrb_state","restriction":""},{"name":"crystal_class","doc":null,"default_value":"","external_name":"crystal_class","restriction":""},{"name":"proc","doc":null,"default_value":"","external_name":"proc","restriction":""},{"name":"proc_args","doc":null,"default_value":"[] of Class","external_name":"proc_args","restriction":""},{"name":"operator","doc":null,"default_value":"\"\"","external_name":"operator","restriction":""},{"name":"context","doc":null,"default_value":"nil","external_name":"context","restriction":""}],"args_string":"(mrb_state, crystal_class, proc, proc_args = <span class=\"o\">[]</span> <span class=\"k\">of</span> <span class=\"t\">Class</span>, operator = <span class=\"s\">&quot;&quot;</span>, context = <span class=\"n\">nil</span>)","source_link":"https://github.com/Anyolite/anyolite/blob/v0.4.0-pre/src/MrbMacro.cr#L457","def":{"name":"wrap_constructor_function_with_args","args":[{"name":"mrb_state","doc":null,"default_value":"","external_name":"mrb_state","restriction":""},{"name":"crystal_class","doc":null,"default_value":"","external_name":"crystal_class","restriction":""},{"name":"proc","doc":null,"default_value":"","external_name":"proc","restriction":""},{"name":"proc_args","doc":null,"default_value":"[] of Class","external_name":"proc_args","restriction":""},{"name":"operator","doc":null,"default_value":"\"\"","external_name":"operator","restriction":""},{"name":"context","doc":null,"default_value":"nil","external_name":"context","restriction":""}],"double_splat":null,"splat_index":null,"block_arg":null,"visibility":"Public","body":"    \n{% if proc_args.class_name == \"ArrayLiteral\" %}\n      {% proc_arg_array = proc_args %}\n    {% else %}\n      {% proc_arg_array = [proc_args] %}\n    {% end %}\n\n\n    wrapped_method = MrbFunc.new do |mrb, obj|\n      converted_args = MrbMacro.get_converted_args(mrb, \n{{ proc_arg_array }}\n, context: \n{{ context }}\n)\n      new_obj = \n{{ proc }}\n{{ operator.id }}\n(*converted_args)\n\n      MrbMacro.allocate_constructed_object(\n{{ crystal_class }}\n, obj, new_obj)\n      obj\n    \nend\n\n    \n{{ mrb_state }}\n.define_method(\"initialize\", MrbClassCache.get(\n{{ crystal_class }}\n), wrapped_method)\n  \n"}},{"id":"wrap_constructor_function_with_keyword_args(mrb_state,crystal_class,proc,keyword_args,regular_args=[]ofClass,operator=&quot;&quot;,context=nil)-macro","html_id":"wrap_constructor_function_with_keyword_args(mrb_state,crystal_class,proc,keyword_args,regular_args=[]ofClass,operator=&amp;quot;&amp;quot;,context=nil)-macro","name":"wrap_constructor_function_with_keyword_args","doc":null,"summary":null,"abstract":false,"args":[{"name":"mrb_state","doc":null,"default_value":"","external_name":"mrb_state","restriction":""},{"name":"crystal_class","doc":null,"default_value":"","external_name":"crystal_class","restriction":""},{"name":"proc","doc":null,"default_value":"","external_name":"proc","restriction":""},{"name":"keyword_args","doc":null,"default_value":"","external_name":"keyword_args","restriction":""},{"name":"regular_args","doc":null,"default_value":"[] of Class","external_name":"regular_args","restriction":""},{"name":"operator","doc":null,"default_value":"\"\"","external_name":"operator","restriction":""},{"name":"context","doc":null,"default_value":"nil","external_name":"context","restriction":""}],"args_string":"(mrb_state, crystal_class, proc, keyword_args, regular_args = <span class=\"o\">[]</span> <span class=\"k\">of</span> <span class=\"t\">Class</span>, operator = <span class=\"s\">&quot;&quot;</span>, context = <span class=\"n\">nil</span>)","source_link":"https://github.com/Anyolite/anyolite/blob/v0.4.0-pre/src/MrbMacro.cr#L475","def":{"name":"wrap_constructor_function_with_keyword_args","args":[{"name":"mrb_state","doc":null,"default_value":"","external_name":"mrb_state","restriction":""},{"name":"crystal_class","doc":null,"default_value":"","external_name":"crystal_class","restriction":""},{"name":"proc","doc":null,"default_value":"","external_name":"proc","restriction":""},{"name":"keyword_args","doc":null,"default_value":"","external_name":"keyword_args","restriction":""},{"name":"regular_args","doc":null,"default_value":"[] of Class","external_name":"regular_args","restriction":""},{"name":"operator","doc":null,"default_value":"\"\"","external_name":"operator","restriction":""},{"name":"context","doc":null,"default_value":"nil","external_name":"context","restriction":""}],"double_splat":null,"splat_index":null,"block_arg":null,"visibility":"Public","body":"    \n{% if regular_args.class_name == \"ArrayLiteral\" %}\n      {% regular_arg_array = regular_args %}\n    {% else %}\n      {% regular_arg_array = [regular_args] %}\n    {% end %}\n\n\n    wrapped_method = MrbFunc.new do |mrb, obj|\n      regular_arg_tuple = MrbMacro.generate_arg_tuple(\n{{ regular_arg_array }}\n, context: \n{{ context }}\n)\n      format_string = MrbMacro.format_string(\n{{ regular_arg_array }}\n, context: \n{{ context }}\n) + \":\"\n\n      kw_args = MrbMacro.generate_keyword_argument_struct(\n{{ keyword_args }}\n)\n      MrbInternal.mrb_get_args(mrb, format_string, *regular_arg_tuple, pointerof(kw_args))\n\n      converted_regular_args = MrbMacro.convert_args(mrb, regular_arg_tuple, \n{{ regular_arg_array }}\n, context: \n{{ context }}\n)\n\n      \n{% if regular_arg_array.size == 0 %}\n        new_obj = {{ proc }}{{ operator.id }}(\n          {% c = 0 %}\n          {% for keyword in keyword_args.keys %}\n            {{ keyword.id }}: MrbMacro.convert_keyword_arg(mrb, kw_args.values[{{ c }}], {{ keyword_args[keyword] }}, context: {{ context }}),\n            {% c += 1 %}\n          {% end %}\n        )\n      {% else %}\n        new_obj = {{ proc }}{{ operator.id }}(*converted_regular_args,\n          {% c = 0 %}\n          {% for keyword in keyword_args.keys %}\n            {{ keyword.id }}: MrbMacro.convert_keyword_arg(mrb, kw_args.values[{{ c }}], {{ keyword_args[keyword] }}, context: {{ context }}),\n            {% c += 1 %}\n          {% end %}\n        )\n      {% end %}\n\n\n      MrbMacro.allocate_constructed_object(\n{{ crystal_class }}\n, obj, new_obj)\n      obj\n    \nend\n\n    \n{{ mrb_state }}\n.define_method(\"initialize\", MrbClassCache.get(\n{{ crystal_class }}\n), wrapped_method)\n  \n"}},{"id":"wrap_instance_function_with_args(mrb_state,crystal_class,name,proc,proc_args=[]ofClass,operator=&quot;&quot;,context=nil)-macro","html_id":"wrap_instance_function_with_args(mrb_state,crystal_class,name,proc,proc_args=[]ofClass,operator=&amp;quot;&amp;quot;,context=nil)-macro","name":"wrap_instance_function_with_args","doc":null,"summary":null,"abstract":false,"args":[{"name":"mrb_state","doc":null,"default_value":"","external_name":"mrb_state","restriction":""},{"name":"crystal_class","doc":null,"default_value":"","external_name":"crystal_class","restriction":""},{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""},{"name":"proc","doc":null,"default_value":"","external_name":"proc","restriction":""},{"name":"proc_args","doc":null,"default_value":"[] of Class","external_name":"proc_args","restriction":""},{"name":"operator","doc":null,"default_value":"\"\"","external_name":"operator","restriction":""},{"name":"context","doc":null,"default_value":"nil","external_name":"context","restriction":""}],"args_string":"(mrb_state, crystal_class, name, proc, proc_args = <span class=\"o\">[]</span> <span class=\"k\">of</span> <span class=\"t\">Class</span>, operator = <span class=\"s\">&quot;&quot;</span>, context = <span class=\"n\">nil</span>)","source_link":"https://github.com/Anyolite/anyolite/blob/v0.4.0-pre/src/MrbMacro.cr#L403","def":{"name":"wrap_instance_function_with_args","args":[{"name":"mrb_state","doc":null,"default_value":"","external_name":"mrb_state","restriction":""},{"name":"crystal_class","doc":null,"default_value":"","external_name":"crystal_class","restriction":""},{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""},{"name":"proc","doc":null,"default_value":"","external_name":"proc","restriction":""},{"name":"proc_args","doc":null,"default_value":"[] of Class","external_name":"proc_args","restriction":""},{"name":"operator","doc":null,"default_value":"\"\"","external_name":"operator","restriction":""},{"name":"context","doc":null,"default_value":"nil","external_name":"context","restriction":""}],"double_splat":null,"splat_index":null,"block_arg":null,"visibility":"Public","body":"    \n{% if proc_args.class_name == \"ArrayLiteral\" %}\n      {% proc_arg_array = proc_args %}\n    {% else %}\n      {% proc_arg_array = [proc_args] %}\n    {% end %}\n\n\n    wrapped_method = MrbFunc.new do |mrb, obj|\n      converted_args = MrbMacro.get_converted_args(mrb, \n{{ proc_arg_array }}\n, context: \n{{ context }}\n)\n\n      if \n{{ crystal_class }}\n <= Struct\n        converted_obj = MrbMacro.convert_from_ruby_struct(mrb, obj, \n{{ crystal_class }}\n).value.content\n      \nelse\n        converted_obj = MrbMacro.convert_from_ruby_object(mrb, obj, \n{{ crystal_class }}\n).value\n      \nend\n\n      MrbMacro.call_and_return_instance_method(mrb, \n{{ proc }}\n, converted_obj, converted_args, operator: \n{{ operator }}\n)\n    \nend\n\n    \n{{ mrb_state }}\n.define_method(\n{{ name }}\n, MrbClassCache.get(\n{{ crystal_class }}\n), wrapped_method)\n  \n"}},{"id":"wrap_instance_function_with_keyword_args(mrb_state,crystal_class,name,proc,keyword_args,regular_args=[]ofClass,operator=&quot;&quot;,context=nil)-macro","html_id":"wrap_instance_function_with_keyword_args(mrb_state,crystal_class,name,proc,keyword_args,regular_args=[]ofClass,operator=&amp;quot;&amp;quot;,context=nil)-macro","name":"wrap_instance_function_with_keyword_args","doc":null,"summary":null,"abstract":false,"args":[{"name":"mrb_state","doc":null,"default_value":"","external_name":"mrb_state","restriction":""},{"name":"crystal_class","doc":null,"default_value":"","external_name":"crystal_class","restriction":""},{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""},{"name":"proc","doc":null,"default_value":"","external_name":"proc","restriction":""},{"name":"keyword_args","doc":null,"default_value":"","external_name":"keyword_args","restriction":""},{"name":"regular_args","doc":null,"default_value":"[] of Class","external_name":"regular_args","restriction":""},{"name":"operator","doc":null,"default_value":"\"\"","external_name":"operator","restriction":""},{"name":"context","doc":null,"default_value":"nil","external_name":"context","restriction":""}],"args_string":"(mrb_state, crystal_class, name, proc, keyword_args, regular_args = <span class=\"o\">[]</span> <span class=\"k\">of</span> <span class=\"t\">Class</span>, operator = <span class=\"s\">&quot;&quot;</span>, context = <span class=\"n\">nil</span>)","source_link":"https://github.com/Anyolite/anyolite/blob/v0.4.0-pre/src/MrbMacro.cr#L425","def":{"name":"wrap_instance_function_with_keyword_args","args":[{"name":"mrb_state","doc":null,"default_value":"","external_name":"mrb_state","restriction":""},{"name":"crystal_class","doc":null,"default_value":"","external_name":"crystal_class","restriction":""},{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""},{"name":"proc","doc":null,"default_value":"","external_name":"proc","restriction":""},{"name":"keyword_args","doc":null,"default_value":"","external_name":"keyword_args","restriction":""},{"name":"regular_args","doc":null,"default_value":"[] of Class","external_name":"regular_args","restriction":""},{"name":"operator","doc":null,"default_value":"\"\"","external_name":"operator","restriction":""},{"name":"context","doc":null,"default_value":"nil","external_name":"context","restriction":""}],"double_splat":null,"splat_index":null,"block_arg":null,"visibility":"Public","body":"    \n{% if regular_args.class_name == \"ArrayLiteral\" %}\n      {% regular_arg_array = regular_args %}\n    {% else %}\n      {% regular_arg_array = [regular_args] %}\n    {% end %}\n\n\n    wrapped_method = MrbFunc.new do |mrb, obj|\n      regular_arg_tuple = MrbMacro.generate_arg_tuple(\n{{ regular_arg_array }}\n, context: \n{{ context }}\n)\n      format_string = MrbMacro.format_string(\n{{ regular_arg_array }}\n, context: \n{{ context }}\n) + \":\"\n\n      kw_args = MrbMacro.generate_keyword_argument_struct(\n{{ keyword_args }}\n)\n      MrbInternal.mrb_get_args(mrb, format_string, *regular_arg_tuple, pointerof(kw_args))\n\n      converted_regular_args = MrbMacro.convert_args(mrb, regular_arg_tuple, \n{{ regular_arg_array }}\n, context: \n{{ context }}\n)\n\n      if \n{{ crystal_class }}\n <= Struct\n        converted_obj = MrbMacro.convert_from_ruby_struct(mrb, obj, \n{{ crystal_class }}\n).value.content\n      \nelse\n        converted_obj = MrbMacro.convert_from_ruby_object(mrb, obj, \n{{ crystal_class }}\n).value\n      \nend\n\n      \n{% if regular_arg_array.size == 0 %}\n        MrbMacro.call_and_return_keyword_instance_method(mrb, {{ proc }}, converted_obj, converted_regular_args, {{ keyword_args }}, kw_args, operator: {{ operator }}, empty_regular: true, context: {{ context }})\n      {% else %}\n        MrbMacro.call_and_return_keyword_instance_method(mrb, {{ proc }}, converted_obj, converted_regular_args, {{ keyword_args }}, kw_args, operator: {{ operator }}, context: {{ context }})\n      {% end %}\n\n    \nend\n\n    \n{{ mrb_state }}\n.define_method(\n{{ name }}\n, MrbClassCache.get(\n{{ crystal_class }}\n), wrapped_method)\n  \n"}},{"id":"wrap_method_index(mrb_state,crystal_class,method_index,ruby_name,is_constructor=false,is_class_method=false,operator=&quot;&quot;,cut_name=nil,without_keywords=false,added_keyword_args=nil,context=nil)-macro","html_id":"wrap_method_index(mrb_state,crystal_class,method_index,ruby_name,is_constructor=false,is_class_method=false,operator=&amp;quot;&amp;quot;,cut_name=nil,without_keywords=false,added_keyword_args=nil,context=nil)-macro","name":"wrap_method_index","doc":null,"summary":null,"abstract":false,"args":[{"name":"mrb_state","doc":null,"default_value":"","external_name":"mrb_state","restriction":""},{"name":"crystal_class","doc":null,"default_value":"","external_name":"crystal_class","restriction":""},{"name":"method_index","doc":null,"default_value":"","external_name":"method_index","restriction":""},{"name":"ruby_name","doc":null,"default_value":"","external_name":"ruby_name","restriction":""},{"name":"is_constructor","doc":null,"default_value":"false","external_name":"is_constructor","restriction":""},{"name":"is_class_method","doc":null,"default_value":"false","external_name":"is_class_method","restriction":""},{"name":"operator","doc":null,"default_value":"\"\"","external_name":"operator","restriction":""},{"name":"cut_name","doc":null,"default_value":"nil","external_name":"cut_name","restriction":""},{"name":"without_keywords","doc":null,"default_value":"false","external_name":"without_keywords","restriction":""},{"name":"added_keyword_args","doc":null,"default_value":"nil","external_name":"added_keyword_args","restriction":""},{"name":"context","doc":null,"default_value":"nil","external_name":"context","restriction":""}],"args_string":"(mrb_state, crystal_class, method_index, ruby_name, is_constructor = <span class=\"n\">false</span>, is_class_method = <span class=\"n\">false</span>, operator = <span class=\"s\">&quot;&quot;</span>, cut_name = <span class=\"n\">nil</span>, without_keywords = <span class=\"n\">false</span>, added_keyword_args = <span class=\"n\">nil</span>, context = <span class=\"n\">nil</span>)","source_link":"https://github.com/Anyolite/anyolite/blob/v0.4.0-pre/src/MrbMacro.cr#L516","def":{"name":"wrap_method_index","args":[{"name":"mrb_state","doc":null,"default_value":"","external_name":"mrb_state","restriction":""},{"name":"crystal_class","doc":null,"default_value":"","external_name":"crystal_class","restriction":""},{"name":"method_index","doc":null,"default_value":"","external_name":"method_index","restriction":""},{"name":"ruby_name","doc":null,"default_value":"","external_name":"ruby_name","restriction":""},{"name":"is_constructor","doc":null,"default_value":"false","external_name":"is_constructor","restriction":""},{"name":"is_class_method","doc":null,"default_value":"false","external_name":"is_class_method","restriction":""},{"name":"operator","doc":null,"default_value":"\"\"","external_name":"operator","restriction":""},{"name":"cut_name","doc":null,"default_value":"nil","external_name":"cut_name","restriction":""},{"name":"without_keywords","doc":null,"default_value":"false","external_name":"without_keywords","restriction":""},{"name":"added_keyword_args","doc":null,"default_value":"nil","external_name":"added_keyword_args","restriction":""},{"name":"context","doc":null,"default_value":"nil","external_name":"context","restriction":""}],"double_splat":null,"splat_index":null,"block_arg":null,"visibility":"Public","body":"    \n{% if is_class_method %}\n      {% method = crystal_class.resolve.class.methods[method_index] %}\n    {% else %}\n      {% method = crystal_class.resolve.methods[method_index] %}\n    {% end %}\n\n\n    \n{% if !operator.empty? %}\n      {% if cut_name %}\n        {% final_method_name = cut_name %}\n      {% else %}\n        {% final_method_name = MrbWrap::Empty %}\n      {% end %}\n    {% else %}\n      {% final_method_name = method.name %}\n    {% end %}\n\n\n    \n{% if method.args.empty? %}\n      {% if is_class_method %}\n        MrbWrap.wrap_class_method({{ mrb_state }}, {{ crystal_class }}, {{ ruby_name }}, {{ crystal_class }}.{{ final_method_name }}, operator: {{ operator }}, context: {{ context }})\n      {% else %}{% if is_constructor %}\n        MrbWrap.wrap_constructor({{ mrb_state }}, {{ crystal_class }}, context: {{ context }})\n      {% else %}\n        MrbWrap.wrap_instance_method({{ mrb_state }}, {{ crystal_class }}, {{ ruby_name }}, {{ final_method_name }}, operator: {{ operator }}, context: {{ context }})\n      {% end %}{% end %}\n\n    {% else %}{% if (method.args.stringify.includes?(\":\")) || (added_keyword_args && (added_keyword_args.stringify.includes?(\":\"))) %}\n      {% if without_keywords %}\n        {% type_array = [] of Class %}\n\n        {% for arg in method.args %}\n          {% type_array.push(arg.restriction) %}\n        {% end %}\n\n        {% if is_class_method %}\n          MrbWrap.wrap_class_method({{ mrb_state }}, {{ crystal_class }}, {{ ruby_name }}, {{ crystal_class }}.{{ final_method_name }}, {{ type_array }}, operator: {{ operator }}, context: {{ context }})\n        {% else %}{% if is_constructor %}\n          MrbWrap.wrap_constructor({{ mrb_state }}, {{ crystal_class }}, {{ type_array }}, operator: {{ operator }}, context: {{ context }})\n        {% else %}\n          MrbWrap.wrap_instance_method({{ mrb_state }}, {{ crystal_class }}, {{ ruby_name }}, {{ final_method_name }}, {{ type_array }}, operator: {{ operator }}, context: {{ context }})\n        {% end %}{% end %}\n      {% else %}\n        {% keyword_hash = {} of Symbol => Crystal::Macros::ASTNode %}\n\n        {% invalid = false %}\n\n        {% if added_keyword_args %}\n          {% for element in added_keyword_args %}\n            {% if invalid\n  next\nend %}\n            {% if element.value %}\n              {% if !element.type %}\n                {% puts(\"\\e[33m> INFO: Could not wrap function '#{final_method_name}' with args #{added_keyword_args}.\\e[0m\") %}\n                {% invalid = true %}\n              {% else %}\n                {% keyword_hash[element.var.symbolize] = {element.type, element.value} %}\n              {% end %}\n            {% else %}\n              {% keyword_hash[element.var.symbolize] = element.type %}\n            {% end %}\n          {% end %}\n        {% else %}\n          {% for arg in method.args %}\n            {% if invalid\n  next\nend %}\n            {% if arg.default_value.stringify != \"\" %}\n              {% if !arg.restriction %}\n                {% puts(\"\\e[33m> INFO: Could not wrap function '#{final_method_name}' with args #{method.args}.\\e[0m\") %}\n                {% invalid = true %}\n              {% else %}\n                {% keyword_hash[arg.name.symbolize] = {arg.restriction, arg.default_value} %}\n              {% end %}\n            {% else %}\n              {% keyword_hash[arg.name.symbolize] = arg.restriction %}\n            {% end %}\n          {% end %}\n        {% end %}\n        \n        {% if !invalid %}\n          {% if is_class_method %}\n            MrbWrap.wrap_class_method_with_keywords({{ mrb_state }}, {{ crystal_class }}, {{ ruby_name }}, {{ crystal_class }}.{{ final_method_name }}, {{ keyword_hash }}, operator: {{ operator }}, context: {{ context }})\n          {% else %}{% if is_constructor %}\n            MrbWrap.wrap_constructor_with_keywords({{ mrb_state }}, {{ crystal_class }}, {{ keyword_hash }}, operator: {{ operator }}, context: {{ context }})\n          {% else %}\n            MrbWrap.wrap_instance_method_with_keywords({{ mrb_state }}, {{ crystal_class }}, {{ ruby_name }}, {{ final_method_name }}, {{ keyword_hash }}, operator: {{ operator }}, context: {{ context }})\n          {% end %}{% end %}\n        {% end %}\n      {% end %}\n\n    {% else %}\n      {% if is_class_method %}\n        {% puts(\"\\e[33m> INFO: Could not wrap function '#{crystal_class}.#{method.name}' with args #{method.args}.\\e[0m\") %}\n      {% else %}\n        {% puts(\"\\e[33m> INFO: Could not wrap function '#{method.name}' with args #{method.args}.\\e[0m\") %}\n      {% end %}\n    {% end %}{% end %}\n\n  \n"}},{"id":"wrap_module_function_with_args(mrb_state,under_module,name,proc,proc_args=[]ofClass,context=nil)-macro","html_id":"wrap_module_function_with_args(mrb_state,under_module,name,proc,proc_args=[]ofClass,context=nil)-macro","name":"wrap_module_function_with_args","doc":null,"summary":null,"abstract":false,"args":[{"name":"mrb_state","doc":null,"default_value":"","external_name":"mrb_state","restriction":""},{"name":"under_module","doc":null,"default_value":"","external_name":"under_module","restriction":""},{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""},{"name":"proc","doc":null,"default_value":"","external_name":"proc","restriction":""},{"name":"proc_args","doc":null,"default_value":"[] of Class","external_name":"proc_args","restriction":""},{"name":"context","doc":null,"default_value":"nil","external_name":"context","restriction":""}],"args_string":"(mrb_state, under_module, name, proc, proc_args = <span class=\"o\">[]</span> <span class=\"k\">of</span> <span class=\"t\">Class</span>, context = <span class=\"n\">nil</span>)","source_link":"https://github.com/Anyolite/anyolite/blob/v0.4.0-pre/src/MrbMacro.cr#L319","def":{"name":"wrap_module_function_with_args","args":[{"name":"mrb_state","doc":null,"default_value":"","external_name":"mrb_state","restriction":""},{"name":"under_module","doc":null,"default_value":"","external_name":"under_module","restriction":""},{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""},{"name":"proc","doc":null,"default_value":"","external_name":"proc","restriction":""},{"name":"proc_args","doc":null,"default_value":"[] of Class","external_name":"proc_args","restriction":""},{"name":"context","doc":null,"default_value":"nil","external_name":"context","restriction":""}],"double_splat":null,"splat_index":null,"block_arg":null,"visibility":"Public","body":"    \n{% if proc_args.class_name == \"ArrayLiteral\" %}\n      {% proc_arg_array = proc_args %}\n    {% else %}\n      {% proc_arg_array = [proc_args] %}\n    {% end %}\n\n\n    \n{% proc_arg_array = MrbMacro.put_args_in_array(proc_args) %}\n\n\n    wrapped_method = MrbFunc.new do |mrb, obj|\n      converted_args = MrbMacro.get_converted_args(mrb, \n{{ proc_arg_array }}\n, context: \n{{ context }}\n)\n      MrbMacro.call_and_return(mrb, \n{{ proc }}\n, \n{{ proc_arg_array }}\n, converted_args)\n    \nend\n\n    \n{{ mrb_state }}\n.define_module_function(\n{{ name }}\n, MrbClassCache.get(\n{{ under_module }}\n), wrapped_method)\n  \n"}},{"id":"wrap_module_function_with_keyword_args(mrb_state,under_module,name,proc,keyword_args,regular_args=[]ofClass,operator=&quot;&quot;,context=nil)-macro","html_id":"wrap_module_function_with_keyword_args(mrb_state,under_module,name,proc,keyword_args,regular_args=[]ofClass,operator=&amp;quot;&amp;quot;,context=nil)-macro","name":"wrap_module_function_with_keyword_args","doc":null,"summary":null,"abstract":false,"args":[{"name":"mrb_state","doc":null,"default_value":"","external_name":"mrb_state","restriction":""},{"name":"under_module","doc":null,"default_value":"","external_name":"under_module","restriction":""},{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""},{"name":"proc","doc":null,"default_value":"","external_name":"proc","restriction":""},{"name":"keyword_args","doc":null,"default_value":"","external_name":"keyword_args","restriction":""},{"name":"regular_args","doc":null,"default_value":"[] of Class","external_name":"regular_args","restriction":""},{"name":"operator","doc":null,"default_value":"\"\"","external_name":"operator","restriction":""},{"name":"context","doc":null,"default_value":"nil","external_name":"context","restriction":""}],"args_string":"(mrb_state, under_module, name, proc, keyword_args, regular_args = <span class=\"o\">[]</span> <span class=\"k\">of</span> <span class=\"t\">Class</span>, operator = <span class=\"s\">&quot;&quot;</span>, context = <span class=\"n\">nil</span>)","source_link":"https://github.com/Anyolite/anyolite/blob/v0.4.0-pre/src/MrbMacro.cr#L336","def":{"name":"wrap_module_function_with_keyword_args","args":[{"name":"mrb_state","doc":null,"default_value":"","external_name":"mrb_state","restriction":""},{"name":"under_module","doc":null,"default_value":"","external_name":"under_module","restriction":""},{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""},{"name":"proc","doc":null,"default_value":"","external_name":"proc","restriction":""},{"name":"keyword_args","doc":null,"default_value":"","external_name":"keyword_args","restriction":""},{"name":"regular_args","doc":null,"default_value":"[] of Class","external_name":"regular_args","restriction":""},{"name":"operator","doc":null,"default_value":"\"\"","external_name":"operator","restriction":""},{"name":"context","doc":null,"default_value":"nil","external_name":"context","restriction":""}],"double_splat":null,"splat_index":null,"block_arg":null,"visibility":"Public","body":"    \n{% if regular_args.class_name == \"ArrayLiteral\" %}\n      {% regular_arg_array = regular_args %}\n    {% else %}\n      {% regular_arg_array = [regular_args] %}\n    {% end %}\n\n\n    wrapped_method = MrbFunc.new do |mrb, obj|\n      regular_arg_tuple = MrbMacro.generate_arg_tuple(\n{{ regular_arg_array }}\n, context: \n{{ context }}\n)\n      format_string = MrbMacro.format_string(\n{{ regular_arg_array }}\n, context: \n{{ context }}\n) + \":\"\n\n      kw_args = MrbMacro.generate_keyword_argument_struct(\n{{ keyword_args }}\n)\n      MrbInternal.mrb_get_args(mrb, format_string, *regular_arg_tuple, pointerof(kw_args))\n\n      converted_regular_args = MrbMacro.convert_args(mrb, regular_arg_tuple, \n{{ regular_arg_array }}\n, context: \n{{ context }}\n)\n\n      \n{% if regular_arg_array.size == 0 %}\n        MrbMacro.call_and_return_keyword_method(mrb, {{ proc }}, converted_regular_args, {{ keyword_args }}, kw_args, operator: {{ operator }}, empty_regular: true)\n      {% else %}\n        MrbMacro.call_and_return_keyword_method(mrb, {{ proc }}, converted_regular_args, {{ keyword_args }}, kw_args, operator: {{ operator }})\n      {% end %}\n\n    \nend\n\n    \n{{ mrb_state }}\n.define_module_function(\n{{ name }}\n, MrbClassCache.get(\n{{ under_module }}\n), wrapped_method)\n  \n"}}],"types":[]},{"html_id":"anyolite/MrbModule","path":"MrbModule.html","kind":"class","full_name":"MrbModule","name":"MrbModule","abstract":false,"superclass":{"html_id":"anyolite/Reference","kind":"class","full_name":"Reference","name":"Reference"},"ancestors":[{"html_id":"anyolite/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"anyolite/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/MrbModule.cr","line_number":2,"url":"https://github.com/Anyolite/anyolite/blob/v0.4.0-pre/src/MrbModule.cr#L2"}],"repository_name":"anyolite","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":null,"doc":"Reference to a mruby module","summary":"<p>Reference to a mruby module</p>","class_methods":[],"constructors":[{"id":"new(mrb:MrbState,name:String,under:MrbModule|MrbClass|Nil=nil)-class-method","html_id":"new(mrb:MrbState,name:String,under:MrbModule|MrbClass|Nil=nil)-class-method","name":"new","doc":null,"summary":null,"abstract":false,"args":[{"name":"mrb","doc":null,"default_value":"","external_name":"mrb","restriction":"MrbState"},{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":"String"},{"name":"under","doc":null,"default_value":"nil","external_name":"under","restriction":"MrbModule | MrbClass | Nil"}],"args_string":"(mrb : MrbState, name : String, under : MrbModule | MrbClass | Nil = <span class=\"n\">nil</span>)","source_link":"https://github.com/Anyolite/anyolite/blob/v0.4.0-pre/src/MrbModule.cr#L5","def":{"name":"new","args":[{"name":"mrb","doc":null,"default_value":"","external_name":"mrb","restriction":"MrbState"},{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":"String"},{"name":"under","doc":null,"default_value":"nil","external_name":"under","restriction":"MrbModule | MrbClass | Nil"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = allocate\n_.initialize(mrb, name, under)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"id":"to_unsafe-instance-method","html_id":"to_unsafe-instance-method","name":"to_unsafe","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/Anyolite/anyolite/blob/v0.4.0-pre/src/MrbModule.cr#L13","def":{"name":"to_unsafe","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"return @module_ptr"}}],"macros":[],"types":[]},{"html_id":"anyolite/MrbRefTable","path":"MrbRefTable.html","kind":"module","full_name":"MrbRefTable","name":"MrbRefTable","abstract":false,"superclass":null,"ancestors":[],"locations":[{"filename":"src/MrbRefTable.cr","line_number":7,"url":"https://github.com/Anyolite/anyolite/blob/v0.4.0-pre/src/MrbRefTable.cr#L7"}],"repository_name":"anyolite","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":null,"doc":"This is a very simple approach to generate artificial references to the wrapped objects.\nTherefore, the GC won't delete the wrapped objects until necessary.\nNote that this is currently one-directional, so mruby might still delete Crystal objects generated from Crystal itself.\nFurthermore, this is only possible as a module due to C closure limitations.\n\nTODO: Add compilation option for ignoring entry checks","summary":"<p>This is a very simple approach to generate artificial references to the wrapped objects.</p>","class_methods":[{"id":"add(identification,value)-class-method","html_id":"add(identification,value)-class-method","name":"add","doc":null,"summary":null,"abstract":false,"args":[{"name":"identification","doc":null,"default_value":"","external_name":"identification","restriction":""},{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":""}],"args_string":"(identification, value)","source_link":"https://github.com/Anyolite/anyolite/blob/v0.4.0-pre/src/MrbRefTable.cr#L20","def":{"name":"add","args":[{"name":"identification","doc":null,"default_value":"","external_name":"identification","restriction":""},{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"if option_active?(:logging)\n  puts(\"> Added reference #{identification} -> #{value}\")\nend\nif @@content[identification]?\n  if value != @@content[identification][0]\n    if option_active?(:warnings)\n      puts(\"WARNING: Value #{identification} replaced pointers.\")\n    end\n    if option_active?(:replace_conflicting_pointers)\n      @@content[identification] = {value, @@content[identification][1] + 1}\n    else\n      @@content[identification] = {@@content[identification][0], @@content[identification][1] + 1}\n    end\n  else\n    @@content[identification] = {value, @@content[identification][1] + 1}\n  end\nelse\n  @@content[identification] = {value, 1_i64}\nend\n"}},{"id":"delete(identification)-class-method","html_id":"delete(identification)-class-method","name":"delete","doc":null,"summary":null,"abstract":false,"args":[{"name":"identification","doc":null,"default_value":"","external_name":"identification","restriction":""}],"args_string":"(identification)","source_link":"https://github.com/Anyolite/anyolite/blob/v0.4.0-pre/src/MrbRefTable.cr#L38","def":{"name":"delete","args":[{"name":"identification","doc":null,"default_value":"","external_name":"identification","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"if option_active?(:logging)\n  puts(\"> Removed reference #{identification}\")\nend\nif @@content[identification]?\n  @@content[identification] = {@@content[identification][0], @@content[identification][1] - 1}\n  if @@content[identification][1] <= 0\n    @@content.delete(identification)\n  end\nelse\n  if option_active?(:warnings)\n    puts(\"WARNING: Tried to remove unregistered object #{identification} from reference table.\")\n  end\nend\nnil\n"}},{"id":"get(identification)-class-method","html_id":"get(identification)-class-method","name":"get","doc":null,"summary":null,"abstract":false,"args":[{"name":"identification","doc":null,"default_value":"","external_name":"identification","restriction":""}],"args_string":"(identification)","source_link":"https://github.com/Anyolite/anyolite/blob/v0.4.0-pre/src/MrbRefTable.cr#L16","def":{"name":"get","args":[{"name":"identification","doc":null,"default_value":"","external_name":"identification","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"return @@content[identification][0]"}},{"id":"get_object_id(value)-class-method","html_id":"get_object_id(value)-class-method","name":"get_object_id","doc":"TODO: If a struct wrapper is given here, call the struct methods instead of the wrapper methods","summary":"<p><span class=\"flag orange\">TODO</span>  If a struct wrapper is given here, call the struct methods instead of the wrapper methods</p>","abstract":false,"args":[{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":""}],"args_string":"(value)","source_link":"https://github.com/Anyolite/anyolite/blob/v0.4.0-pre/src/MrbRefTable.cr#L64","def":{"name":"get_object_id","args":[{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"if value.responds_to?(:mrb_ref_id)\n  value.mrb_ref_id.to_u64\nelse\n  if value.responds_to?(:object_id)\n    value.object_id.to_u64\n  else\n    value.hash.to_u64\n  end\nend"}},{"id":"inspect-class-method","html_id":"inspect-class-method","name":"inspect","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/Anyolite/anyolite/blob/v0.4.0-pre/src/MrbRefTable.cr#L55","def":{"name":"inspect","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@@content.inspect"}},{"id":"is_registered?(identification)-class-method","html_id":"is_registered?(identification)-class-method","name":"is_registered?","doc":null,"summary":null,"abstract":false,"args":[{"name":"identification","doc":null,"default_value":"","external_name":"identification","restriction":""}],"args_string":"(identification)","source_link":"https://github.com/Anyolite/anyolite/blob/v0.4.0-pre/src/MrbRefTable.cr#L51","def":{"name":"is_registered?","args":[{"name":"identification","doc":null,"default_value":"","external_name":"identification","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"return @@content[identification]?"}},{"id":"option_active?(symbol)-class-method","html_id":"option_active?(symbol)-class-method","name":"option_active?","doc":null,"summary":null,"abstract":false,"args":[{"name":"symbol","doc":null,"default_value":"","external_name":"symbol","restriction":""}],"args_string":"(symbol)","source_link":"https://github.com/Anyolite/anyolite/blob/v0.4.0-pre/src/MrbRefTable.cr#L74","def":{"name":"option_active?","args":[{"name":"symbol","doc":null,"default_value":"","external_name":"symbol","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"if @@options[symbol]?\n  @@options[symbol]\nelse\n  false\nend"}},{"id":"reset-class-method","html_id":"reset-class-method","name":"reset","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/Anyolite/anyolite/blob/v0.4.0-pre/src/MrbRefTable.cr#L59","def":{"name":"reset","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@@content.clear"}},{"id":"set_option(symbol)-class-method","html_id":"set_option(symbol)-class-method","name":"set_option","doc":null,"summary":null,"abstract":false,"args":[{"name":"symbol","doc":null,"default_value":"","external_name":"symbol","restriction":""}],"args_string":"(symbol)","source_link":"https://github.com/Anyolite/anyolite/blob/v0.4.0-pre/src/MrbRefTable.cr#L82","def":{"name":"set_option","args":[{"name":"symbol","doc":null,"default_value":"","external_name":"symbol","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@@options[symbol] = true"}},{"id":"unset_option(symbol)-class-method","html_id":"unset_option(symbol)-class-method","name":"unset_option","doc":null,"summary":null,"abstract":false,"args":[{"name":"symbol","doc":null,"default_value":"","external_name":"symbol","restriction":""}],"args_string":"(symbol)","source_link":"https://github.com/Anyolite/anyolite/blob/v0.4.0-pre/src/MrbRefTable.cr#L86","def":{"name":"unset_option","args":[{"name":"symbol","doc":null,"default_value":"","external_name":"symbol","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@@options[symbol] = false"}}],"constructors":[],"instance_methods":[],"macros":[],"types":[]},{"html_id":"anyolite/MrbState","path":"MrbState.html","kind":"class","full_name":"MrbState","name":"MrbState","abstract":false,"superclass":{"html_id":"anyolite/Reference","kind":"class","full_name":"Reference","name":"Reference"},"ancestors":[{"html_id":"anyolite/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"anyolite/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/MrbState.cr","line_number":2,"url":"https://github.com/Anyolite/anyolite/blob/v0.4.0-pre/src/MrbState.cr#L2"}],"repository_name":"anyolite","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":null,"doc":"Wrapper for an mruby state reference","summary":"<p>Wrapper for an mruby state reference</p>","class_methods":[{"id":"create(&)-class-method","html_id":"create(&)-class-method","name":"create","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"(&)","source_link":"https://github.com/Anyolite/anyolite/blob/v0.4.0-pre/src/MrbState.cr#L5","def":{"name":"create","args":[],"double_splat":null,"splat_index":null,"yields":1,"block_arg":null,"return_type":"","visibility":"Public","body":"mrb = self.new\nyield mrb\nmrb.close\n"}}],"constructors":[{"id":"new-class-method","html_id":"new-class-method","name":"new","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/Anyolite/anyolite/blob/v0.4.0-pre/src/MrbState.cr#L11","def":{"name":"new","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = allocate\n_.initialize\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"id":"close-instance-method","html_id":"close-instance-method","name":"close","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/Anyolite/anyolite/blob/v0.4.0-pre/src/MrbState.cr#L15","def":{"name":"close","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"MrbInternal.mrb_close(@mrb_ptr)"}},{"id":"define_class_method(name:String,c:MrbClass|MrbModule,proc:MrbFunc)-instance-method","html_id":"define_class_method(name:String,c:MrbClass|MrbModule,proc:MrbFunc)-instance-method","name":"define_class_method","doc":null,"summary":null,"abstract":false,"args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":"String"},{"name":"c","doc":null,"default_value":"","external_name":"c","restriction":"MrbClass | MrbModule"},{"name":"proc","doc":null,"default_value":"","external_name":"proc","restriction":"MrbFunc"}],"args_string":"(name : String, c : MrbClass | MrbModule, proc : MrbFunc)","source_link":"https://github.com/Anyolite/anyolite/blob/v0.4.0-pre/src/MrbState.cr#L48","def":{"name":"define_class_method","args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":"String"},{"name":"c","doc":null,"default_value":"","external_name":"c","restriction":"MrbClass | MrbModule"},{"name":"proc","doc":null,"default_value":"","external_name":"proc","restriction":"MrbFunc"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"if c.is_a?(MrbModule)\n  MrbInternal.mrb_define_module_function(@mrb_ptr, c, name, proc, 1)\nelse\n  MrbInternal.mrb_define_class_method(@mrb_ptr, c, name, proc, 1)\nend"}},{"id":"define_method(name:String,c:MrbClass|MrbModule,proc:MrbFunc)-instance-method","html_id":"define_method(name:String,c:MrbClass|MrbModule,proc:MrbFunc)-instance-method","name":"define_method","doc":"TODO: Use internal mruby arg count in future versions","summary":"<p><span class=\"flag orange\">TODO</span>  Use internal mruby arg count in future versions</p>","abstract":false,"args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":"String"},{"name":"c","doc":null,"default_value":"","external_name":"c","restriction":"MrbClass | MrbModule"},{"name":"proc","doc":null,"default_value":"","external_name":"proc","restriction":"MrbFunc"}],"args_string":"(name : String, c : MrbClass | MrbModule, proc : MrbFunc)","source_link":"https://github.com/Anyolite/anyolite/blob/v0.4.0-pre/src/MrbState.cr#L32","def":{"name":"define_method","args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":"String"},{"name":"c","doc":null,"default_value":"","external_name":"c","restriction":"MrbClass | MrbModule"},{"name":"proc","doc":null,"default_value":"","external_name":"proc","restriction":"MrbFunc"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"if c.is_a?(MrbModule)\n  raise(\"Tried to define method #{name} for MrbModule #{c}\")\nelse\n  MrbInternal.mrb_define_method(@mrb_ptr, c, name, proc, 1)\nend"}},{"id":"define_module_function(name:String,mod:MrbModule|MrbClass,proc:MrbFunc)-instance-method","html_id":"define_module_function(name:String,mod:MrbModule|MrbClass,proc:MrbFunc)-instance-method","name":"define_module_function","doc":null,"summary":null,"abstract":false,"args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":"String"},{"name":"mod","doc":null,"default_value":"","external_name":"mod","restriction":"MrbModule | MrbClass"},{"name":"proc","doc":null,"default_value":"","external_name":"proc","restriction":"MrbFunc"}],"args_string":"(name : String, mod : MrbModule | MrbClass, proc : MrbFunc)","source_link":"https://github.com/Anyolite/anyolite/blob/v0.4.0-pre/src/MrbState.cr#L40","def":{"name":"define_module_function","args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":"String"},{"name":"mod","doc":null,"default_value":"","external_name":"mod","restriction":"MrbModule | MrbClass"},{"name":"proc","doc":null,"default_value":"","external_name":"proc","restriction":"MrbFunc"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"if mod.is_a?(MrbModule)\n  MrbInternal.mrb_define_module_function(@mrb_ptr, mod, name, proc, 1)\nelse\n  MrbInternal.mrb_define_class_method(@mrb_ptr, mod, name, proc, 1)\nend"}},{"id":"execute_script_line(str:String)-instance-method","html_id":"execute_script_line(str:String)-instance-method","name":"execute_script_line","doc":null,"summary":null,"abstract":false,"args":[{"name":"str","doc":null,"default_value":"","external_name":"str","restriction":"String"}],"args_string":"(str : String)","source_link":"https://github.com/Anyolite/anyolite/blob/v0.4.0-pre/src/MrbState.cr#L23","def":{"name":"execute_script_line","args":[{"name":"str","doc":null,"default_value":"","external_name":"str","restriction":"String"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"MrbInternal.execute_script_line(@mrb_ptr, str)"}},{"id":"load_script_from_file(filename:String)-instance-method","html_id":"load_script_from_file(filename:String)-instance-method","name":"load_script_from_file","doc":null,"summary":null,"abstract":false,"args":[{"name":"filename","doc":null,"default_value":"","external_name":"filename","restriction":"String"}],"args_string":"(filename : String)","source_link":"https://github.com/Anyolite/anyolite/blob/v0.4.0-pre/src/MrbState.cr#L27","def":{"name":"load_script_from_file","args":[{"name":"filename","doc":null,"default_value":"","external_name":"filename","restriction":"String"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"MrbInternal.load_script_from_file(@mrb_ptr, filename)"}},{"id":"to_unsafe-instance-method","html_id":"to_unsafe-instance-method","name":"to_unsafe","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/Anyolite/anyolite/blob/v0.4.0-pre/src/MrbState.cr#L19","def":{"name":"to_unsafe","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"return @mrb_ptr"}}],"macros":[],"types":[]},{"html_id":"anyolite/MrbTypeCache","path":"MrbTypeCache.html","kind":"module","full_name":"MrbTypeCache","name":"MrbTypeCache","abstract":false,"superclass":null,"ancestors":[],"locations":[{"filename":"src/MrbTypeCache.cr","line_number":2,"url":"https://github.com/Anyolite/anyolite/blob/v0.4.0-pre/src/MrbTypeCache.cr#L2"}],"repository_name":"anyolite","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":null,"doc":"Cache for mruby data types, holding the destructor methods","summary":"<p>Cache for mruby data types, holding the destructor methods</p>","class_methods":[{"id":"register(crystal_class:Class,destructor:Proc(Pointer(MrbInternal::MrbState),Pointer(Void),Void))-class-method","html_id":"register(crystal_class:Class,destructor:Proc(Pointer(MrbInternal::MrbState),Pointer(Void),Void))-class-method","name":"register","doc":null,"summary":null,"abstract":false,"args":[{"name":"crystal_class","doc":null,"default_value":"","external_name":"crystal_class","restriction":"Class"},{"name":"destructor","doc":null,"default_value":"","external_name":"destructor","restriction":"Proc(::Pointer(MrbInternal::MrbState), ::Pointer(Void), Void)"}],"args_string":"(crystal_class : Class, destructor : Proc(Pointer(MrbInternal::MrbState), Pointer(Void), Void))","source_link":"https://github.com/Anyolite/anyolite/blob/v0.4.0-pre/src/MrbTypeCache.cr#L5","def":{"name":"register","args":[{"name":"crystal_class","doc":null,"default_value":"","external_name":"crystal_class","restriction":"Class"},{"name":"destructor","doc":null,"default_value":"","external_name":"destructor","restriction":"Proc(::Pointer(MrbInternal::MrbState), ::Pointer(Void), Void)"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"if @@cache[crystal_class.name]?\nelse\n  new_type = MrbInternal::MrbDataType.new(struct_name: crystal_class.name, dfree: destructor)\n  @@cache[crystal_class.name] = Pointer(MrbInternal::MrbDataType).malloc(size: 1, value: new_type)\nend\nreturn @@cache[crystal_class.name]\n"}}],"constructors":[],"instance_methods":[],"macros":[{"id":"destructor_method(crystal_class)-macro","html_id":"destructor_method(crystal_class)-macro","name":"destructor_method","doc":null,"summary":null,"abstract":false,"args":[{"name":"crystal_class","doc":null,"default_value":"","external_name":"crystal_class","restriction":""}],"args_string":"(crystal_class)","source_link":"https://github.com/Anyolite/anyolite/blob/v0.4.0-pre/src/MrbTypeCache.cr#L13","def":{"name":"destructor_method","args":[{"name":"crystal_class","doc":null,"default_value":"","external_name":"crystal_class","restriction":""}],"double_splat":null,"splat_index":null,"block_arg":null,"visibility":"Public","body":"    ->(mrb : MrbInternal::MrbState*, ptr : Void*) \n{\n      if \n{{ crystal_class }}\n <= Struct\n        crystal_ptr = ptr.as(MrbWrap::StructWrapper(\n{{ crystal_class }}\n)*)\n\n        \n# Call optional mruby callback\n\n        if (crystal_value = crystal_ptr.value.content).responds_to?(:mrb_finalize)\n          crystal_value.mrb_finalize(mrb)\n        \nend\n      \nelse\n        crystal_ptr = ptr.as(\n{{ crystal_class }}\n*)\n\n        if (crystal_value = crystal_ptr.value).responds_to?(:mrb_finalize)\n          crystal_value.mrb_finalize(mrb)\n        \nend\n      \nend\n\n      \n# Delete the Crystal reference to this object\n\n      MrbRefTable.delete(MrbRefTable.get_object_id(crystal_ptr.value))\n    }\n  \n"}}],"types":[]},{"html_id":"anyolite/MrbWrap","path":"MrbWrap.html","kind":"module","full_name":"MrbWrap","name":"MrbWrap","abstract":false,"superclass":null,"ancestors":[],"locations":[{"filename":"src/MrbWrap.cr","line_number":16,"url":"https://github.com/Anyolite/anyolite/blob/v0.4.0-pre/src/MrbWrap.cr#L16"}],"repository_name":"anyolite","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[{"id":"Undef","name":"Undef","value":"Undefined.new","doc":"Undefined mruby value.","summary":"<p>Undefined mruby value.</p>"}],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":null,"doc":"Main wrapper module, which should be covering most of the use cases.","summary":"<p>Main wrapper module, which should be covering most of the use cases.</p>","class_methods":[],"constructors":[],"instance_methods":[],"macros":[{"id":"wrap(mrb_state,crystal_module_or_class,under=nil,instance_method_exclusions=[]ofString|Symbol,class_method_exclusions=[]ofString|Symbol,constant_exclusions=[]ofString|Symbol,verbose=false)-macro","html_id":"wrap(mrb_state,crystal_module_or_class,under=nil,instance_method_exclusions=[]ofString|Symbol,class_method_exclusions=[]ofString|Symbol,constant_exclusions=[]ofString|Symbol,verbose=false)-macro","name":"wrap","doc":"Wraps a whole class or module structure under a module into mruby.\n\nThe class or module *crystal_module_or_class* will be integrated \ninto the `MrbState` *mrb_state*,\nwith the optional parent module *under*.\nMethods or constants to be excluded can be specified as \n`Symbol` or `String` in the `Array` \n*class_method_exclusions* (for class methods) or \n*constant_exclusions* (for constants).\nIf *verbose* is set, wrapping information will be displayed. ","summary":"<p>Wraps a whole class or module structure under a module into mruby.</p>","abstract":false,"args":[{"name":"mrb_state","doc":null,"default_value":"","external_name":"mrb_state","restriction":""},{"name":"crystal_module_or_class","doc":null,"default_value":"","external_name":"crystal_module_or_class","restriction":""},{"name":"under","doc":null,"default_value":"nil","external_name":"under","restriction":""},{"name":"instance_method_exclusions","doc":null,"default_value":"[] of String | Symbol","external_name":"instance_method_exclusions","restriction":""},{"name":"class_method_exclusions","doc":null,"default_value":"[] of String | Symbol","external_name":"class_method_exclusions","restriction":""},{"name":"constant_exclusions","doc":null,"default_value":"[] of String | Symbol","external_name":"constant_exclusions","restriction":""},{"name":"verbose","doc":null,"default_value":"false","external_name":"verbose","restriction":""}],"args_string":"(mrb_state, crystal_module_or_class, under = <span class=\"n\">nil</span>, instance_method_exclusions = <span class=\"o\">[]</span> <span class=\"k\">of</span> <span class=\"t\">String</span> <span class=\"o\">|</span> <span class=\"t\">Symbol</span>, class_method_exclusions = <span class=\"o\">[]</span> <span class=\"k\">of</span> <span class=\"t\">String</span> <span class=\"o\">|</span> <span class=\"t\">Symbol</span>, constant_exclusions = <span class=\"o\">[]</span> <span class=\"k\">of</span> <span class=\"t\">String</span> <span class=\"o\">|</span> <span class=\"t\">Symbol</span>, verbose = <span class=\"n\">false</span>)","source_link":"https://github.com/Anyolite/anyolite/blob/v0.4.0-pre/src/MrbWrap.cr#L324","def":{"name":"wrap","args":[{"name":"mrb_state","doc":null,"default_value":"","external_name":"mrb_state","restriction":""},{"name":"crystal_module_or_class","doc":null,"default_value":"","external_name":"crystal_module_or_class","restriction":""},{"name":"under","doc":null,"default_value":"nil","external_name":"under","restriction":""},{"name":"instance_method_exclusions","doc":null,"default_value":"[] of String | Symbol","external_name":"instance_method_exclusions","restriction":""},{"name":"class_method_exclusions","doc":null,"default_value":"[] of String | Symbol","external_name":"class_method_exclusions","restriction":""},{"name":"constant_exclusions","doc":null,"default_value":"[] of String | Symbol","external_name":"constant_exclusions","restriction":""},{"name":"verbose","doc":null,"default_value":"false","external_name":"verbose","restriction":""}],"double_splat":null,"splat_index":null,"block_arg":null,"visibility":"Public","body":"    \n    \n{% if crystal_module_or_class.resolve.module? %}\n      MrbWrap.wrap_module_with_methods({{ mrb_state }}, {{ crystal_module_or_class }}, under: {{ under }},\n        class_method_exclusions: {{ class_method_exclusions }},\n        constant_exclusions: {{ constant_exclusions }},\n        verbose: {{ verbose }}\n      )\n    {% else %}\n      MrbWrap.wrap_class_with_methods({{ mrb_state }}, {{ crystal_module_or_class }}, under: {{ under }},\n        instance_method_exclusions: {{ instance_method_exclusions }},\n        class_method_exclusions: {{ class_method_exclusions }},\n        constant_exclusions: {{ constant_exclusions }},\n        verbose: {{ verbose }}\n      )\n    {% end %}\n\n  \n"}},{"id":"wrap_class(mrb_state,crystal_class,name,under=nil,superclass=nil)-macro","html_id":"wrap_class(mrb_state,crystal_class,name,under=nil,superclass=nil)-macro","name":"wrap_class","doc":"Wraps a Crystal class directly into an mruby class.\n\nThe Crystal `Class` *crystal_class* will be integrated into the `MrbState` *mrb_state*,\nwith *name* as its new designation, returning an `MrbClass`.\n\nTo inherit from another mruby class, specify an `MrbClass` as a *superclass*.\n\nEach class can be defined in a specifiy module by setting *under* to a `MrbModule`.","summary":"<p>Wraps a Crystal class directly into an mruby class.</p>","abstract":false,"args":[{"name":"mrb_state","doc":null,"default_value":"","external_name":"mrb_state","restriction":""},{"name":"crystal_class","doc":null,"default_value":"","external_name":"crystal_class","restriction":""},{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""},{"name":"under","doc":null,"default_value":"nil","external_name":"under","restriction":""},{"name":"superclass","doc":null,"default_value":"nil","external_name":"superclass","restriction":""}],"args_string":"(mrb_state, crystal_class, name, under = <span class=\"n\">nil</span>, superclass = <span class=\"n\">nil</span>)","source_link":"https://github.com/Anyolite/anyolite/blob/v0.4.0-pre/src/MrbWrap.cr#L64","def":{"name":"wrap_class","args":[{"name":"mrb_state","doc":null,"default_value":"","external_name":"mrb_state","restriction":""},{"name":"crystal_class","doc":null,"default_value":"","external_name":"crystal_class","restriction":""},{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""},{"name":"under","doc":null,"default_value":"nil","external_name":"under","restriction":""},{"name":"superclass","doc":null,"default_value":"nil","external_name":"superclass","restriction":""}],"double_splat":null,"splat_index":null,"block_arg":null,"visibility":"Public","body":"    new_class = MrbClass.new(\n{{ mrb_state }}\n, \n{{ name }}\n, under: MrbClassCache.get(\n{{ under }}\n), superclass: MrbClassCache.get(\n{{ superclass }}\n))\n    MrbInternal.set_instance_tt_as_data(new_class)\n    MrbClassCache.register(\n{{ crystal_class }}\n, new_class)\n    MrbClassCache.get(\n{{ crystal_class }}\n)\n  \n"}},{"id":"wrap_class_method(mrb_state,crystal_class,name,proc,proc_args=[]ofClass,operator=&quot;&quot;,context=nil)-macro","html_id":"wrap_class_method(mrb_state,crystal_class,name,proc,proc_args=[]ofClass,operator=&amp;quot;&amp;quot;,context=nil)-macro","name":"wrap_class_method","doc":"Wraps a class method into mruby.\n\nThe class method *proc* of the Crystal `Class` *crystal_class* will be integrated into the `MrbState` *mrb_state*,\nwith the arguments *proc_args* as an `Array of Class`.\n\nIts new name will be *name*.","summary":"<p>Wraps a class method into mruby.</p>","abstract":false,"args":[{"name":"mrb_state","doc":null,"default_value":"","external_name":"mrb_state","restriction":""},{"name":"crystal_class","doc":null,"default_value":"","external_name":"crystal_class","restriction":""},{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""},{"name":"proc","doc":null,"default_value":"","external_name":"proc","restriction":""},{"name":"proc_args","doc":null,"default_value":"[] of Class","external_name":"proc_args","restriction":""},{"name":"operator","doc":null,"default_value":"\"\"","external_name":"operator","restriction":""},{"name":"context","doc":null,"default_value":"nil","external_name":"context","restriction":""}],"args_string":"(mrb_state, crystal_class, name, proc, proc_args = <span class=\"o\">[]</span> <span class=\"k\">of</span> <span class=\"t\">Class</span>, operator = <span class=\"s\">&quot;&quot;</span>, context = <span class=\"n\">nil</span>)","source_link":"https://github.com/Anyolite/anyolite/blob/v0.4.0-pre/src/MrbWrap.cr#L127","def":{"name":"wrap_class_method","args":[{"name":"mrb_state","doc":null,"default_value":"","external_name":"mrb_state","restriction":""},{"name":"crystal_class","doc":null,"default_value":"","external_name":"crystal_class","restriction":""},{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""},{"name":"proc","doc":null,"default_value":"","external_name":"proc","restriction":""},{"name":"proc_args","doc":null,"default_value":"[] of Class","external_name":"proc_args","restriction":""},{"name":"operator","doc":null,"default_value":"\"\"","external_name":"operator","restriction":""},{"name":"context","doc":null,"default_value":"nil","external_name":"context","restriction":""}],"double_splat":null,"splat_index":null,"block_arg":null,"visibility":"Public","body":"    MrbMacro.wrap_class_method_with_args(\n{{ mrb_state }}\n, \n{{ crystal_class }}\n, \n{{ name }}\n, \n{{ proc }}\n, \n{{ proc_args }}\n, operator: \n{{ operator }}\n, context: \n{{ context }}\n)\n  \n"}},{"id":"wrap_class_method_with_keywords(mrb_state,crystal_class,name,proc,keyword_args,regular_args=[]ofClass,operator=&quot;&quot;,context=nil)-macro","html_id":"wrap_class_method_with_keywords(mrb_state,crystal_class,name,proc,keyword_args,regular_args=[]ofClass,operator=&amp;quot;&amp;quot;,context=nil)-macro","name":"wrap_class_method_with_keywords","doc":"Wraps a class method into mruby, using keyword arguments.\n\nThe class method *proc* of the Crystal `Class` *crystal_class* will be integrated into the `MrbState` *mrb_state*,\nwith the arguments *regular_args* as an `Array of Class` and *keyword_args* as a `Hash of Symbol => Class`.\nAlternatively, a `Tuple` with the `Class` and a default value for the `Class` can be used instead of the `Class`.\n\nIts new name will be *name*.","summary":"<p>Wraps a class method into mruby, using keyword arguments.</p>","abstract":false,"args":[{"name":"mrb_state","doc":null,"default_value":"","external_name":"mrb_state","restriction":""},{"name":"crystal_class","doc":null,"default_value":"","external_name":"crystal_class","restriction":""},{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""},{"name":"proc","doc":null,"default_value":"","external_name":"proc","restriction":""},{"name":"keyword_args","doc":null,"default_value":"","external_name":"keyword_args","restriction":""},{"name":"regular_args","doc":null,"default_value":"[] of Class","external_name":"regular_args","restriction":""},{"name":"operator","doc":null,"default_value":"\"\"","external_name":"operator","restriction":""},{"name":"context","doc":null,"default_value":"nil","external_name":"context","restriction":""}],"args_string":"(mrb_state, crystal_class, name, proc, keyword_args, regular_args = <span class=\"o\">[]</span> <span class=\"k\">of</span> <span class=\"t\">Class</span>, operator = <span class=\"s\">&quot;&quot;</span>, context = <span class=\"n\">nil</span>)","source_link":"https://github.com/Anyolite/anyolite/blob/v0.4.0-pre/src/MrbWrap.cr#L138","def":{"name":"wrap_class_method_with_keywords","args":[{"name":"mrb_state","doc":null,"default_value":"","external_name":"mrb_state","restriction":""},{"name":"crystal_class","doc":null,"default_value":"","external_name":"crystal_class","restriction":""},{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""},{"name":"proc","doc":null,"default_value":"","external_name":"proc","restriction":""},{"name":"keyword_args","doc":null,"default_value":"","external_name":"keyword_args","restriction":""},{"name":"regular_args","doc":null,"default_value":"[] of Class","external_name":"regular_args","restriction":""},{"name":"operator","doc":null,"default_value":"\"\"","external_name":"operator","restriction":""},{"name":"context","doc":null,"default_value":"nil","external_name":"context","restriction":""}],"double_splat":null,"splat_index":null,"block_arg":null,"visibility":"Public","body":"    MrbMacro.wrap_class_method_with_keyword_args(\n{{ mrb_state }}\n, \n{{ crystal_class }}\n, \n{{ name }}\n, \n{{ proc }}\n, \n{{ keyword_args }}\n, \n{{ regular_args }}\n, operator: \n{{ operator }}\n, context: \n{{ context }}\n)\n  \n"}},{"id":"wrap_class_with_methods(mrb_state,crystal_class,under=nil,instance_method_exclusions=[]ofString|Symbol,class_method_exclusions=[]ofString|Symbol,constant_exclusions=[]ofString|Symbol,verbose=false)-macro","html_id":"wrap_class_with_methods(mrb_state,crystal_class,under=nil,instance_method_exclusions=[]ofString|Symbol,class_method_exclusions=[]ofString|Symbol,constant_exclusions=[]ofString|Symbol,verbose=false)-macro","name":"wrap_class_with_methods","doc":"Wraps a whole class structure under a module into mruby.\n\nThe `Class` *crystal_class* will be integrated into the `MrbState` *mrb_state*,\nwith the optional parent module *under*.\nMethods or constants to be excluded can be specified as \n`Symbol` or `String` in the `Array` \n*instance_method_exclusions* (for instance methods),\n*class_method_exclusions* (for class methods) or \n*constant_exclusions* (for constants).\nIf *verbose* is set, wrapping information will be displayed.","summary":"<p>Wraps a whole class structure under a module into mruby.</p>","abstract":false,"args":[{"name":"mrb_state","doc":null,"default_value":"","external_name":"mrb_state","restriction":""},{"name":"crystal_class","doc":null,"default_value":"","external_name":"crystal_class","restriction":""},{"name":"under","doc":null,"default_value":"nil","external_name":"under","restriction":""},{"name":"instance_method_exclusions","doc":null,"default_value":"[] of String | Symbol","external_name":"instance_method_exclusions","restriction":""},{"name":"class_method_exclusions","doc":null,"default_value":"[] of String | Symbol","external_name":"class_method_exclusions","restriction":""},{"name":"constant_exclusions","doc":null,"default_value":"[] of String | Symbol","external_name":"constant_exclusions","restriction":""},{"name":"verbose","doc":null,"default_value":"false","external_name":"verbose","restriction":""}],"args_string":"(mrb_state, crystal_class, under = <span class=\"n\">nil</span>, instance_method_exclusions = <span class=\"o\">[]</span> <span class=\"k\">of</span> <span class=\"t\">String</span> <span class=\"o\">|</span> <span class=\"t\">Symbol</span>, class_method_exclusions = <span class=\"o\">[]</span> <span class=\"k\">of</span> <span class=\"t\">String</span> <span class=\"o\">|</span> <span class=\"t\">Symbol</span>, constant_exclusions = <span class=\"o\">[]</span> <span class=\"k\">of</span> <span class=\"t\">String</span> <span class=\"o\">|</span> <span class=\"t\">Symbol</span>, verbose = <span class=\"n\">false</span>)","source_link":"https://github.com/Anyolite/anyolite/blob/v0.4.0-pre/src/MrbWrap.cr#L274","def":{"name":"wrap_class_with_methods","args":[{"name":"mrb_state","doc":null,"default_value":"","external_name":"mrb_state","restriction":""},{"name":"crystal_class","doc":null,"default_value":"","external_name":"crystal_class","restriction":""},{"name":"under","doc":null,"default_value":"nil","external_name":"under","restriction":""},{"name":"instance_method_exclusions","doc":null,"default_value":"[] of String | Symbol","external_name":"instance_method_exclusions","restriction":""},{"name":"class_method_exclusions","doc":null,"default_value":"[] of String | Symbol","external_name":"class_method_exclusions","restriction":""},{"name":"constant_exclusions","doc":null,"default_value":"[] of String | Symbol","external_name":"constant_exclusions","restriction":""},{"name":"verbose","doc":null,"default_value":"false","external_name":"verbose","restriction":""}],"double_splat":null,"splat_index":null,"block_arg":null,"visibility":"Public","body":"    \n{% if verbose %}\n      {% puts(\"> Going into class #{crystal_class} under #{under}\") %}\n    {% end %}\n\n\n    MrbWrap.wrap_class(\n{{ mrb_state }}\n, \n{{ crystal_class.resolve }}\n, \"\n{{ crystal_class.names.last }}\n\", under: \n{{ under }}\n)\n\n    MrbMacro.wrap_all_instance_methods(\n{{ mrb_state }}\n, \n{{ crystal_class }}\n, \n{{ instance_method_exclusions }}\n, \n{{ verbose }}\n, context: \n{{ under }}\n)\n    MrbMacro.wrap_all_class_methods(\n{{ mrb_state }}\n, \n{{ crystal_class }}\n, \n{{ class_method_exclusions }}\n, \n{{ verbose }}\n, context: \n{{ under }}\n)\n    MrbMacro.wrap_all_constants(\n{{ mrb_state }}\n, \n{{ crystal_class }}\n, \n{{ constant_exclusions }}\n, \n{{ verbose }}\n)\n  \n"}},{"id":"wrap_constant(mrb_state,under_module,name,crystal_value)-macro","html_id":"wrap_constant(mrb_state,under_module,name,crystal_value)-macro","name":"wrap_constant","doc":"Wraps a constant value under a module into mruby.\n\nThe value *crystal_value* will be integrated into the `MrbState` *mrb_state*,\nwith the name *name* and the parent module *under_module*.","summary":"<p>Wraps a constant value under a module into mruby.</p>","abstract":false,"args":[{"name":"mrb_state","doc":null,"default_value":"","external_name":"mrb_state","restriction":""},{"name":"under_module","doc":null,"default_value":"","external_name":"under_module","restriction":""},{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""},{"name":"crystal_value","doc":null,"default_value":"","external_name":"crystal_value","restriction":""}],"args_string":"(mrb_state, under_module, name, crystal_value)","source_link":"https://github.com/Anyolite/anyolite/blob/v0.4.0-pre/src/MrbWrap.cr#L197","def":{"name":"wrap_constant","args":[{"name":"mrb_state","doc":null,"default_value":"","external_name":"mrb_state","restriction":""},{"name":"under_module","doc":null,"default_value":"","external_name":"under_module","restriction":""},{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""},{"name":"crystal_value","doc":null,"default_value":"","external_name":"crystal_value","restriction":""}],"double_splat":null,"splat_index":null,"block_arg":null,"visibility":"Public","body":"    MrbInternal.mrb_define_const(\n{{ mrb_state }}\n, MrbClassCache.get(\n{{ under_module }}\n), \n{{ name }}\n, MrbCast.return_value(\n{{ mrb_state }}\n.to_unsafe, \n{{ crystal_value }}\n))\n  \n"}},{"id":"wrap_constant_under_class(mrb_state,under_class,name,crystal_value)-macro","html_id":"wrap_constant_under_class(mrb_state,under_class,name,crystal_value)-macro","name":"wrap_constant_under_class","doc":"Wraps a constant value under a class into mruby.\n\nThe value *crystal_value* will be integrated into the `MrbState` *mrb_state*,\nwith the name *name* and the parent `Class` *under_class*.","summary":"<p>Wraps a constant value under a class into mruby.</p>","abstract":false,"args":[{"name":"mrb_state","doc":null,"default_value":"","external_name":"mrb_state","restriction":""},{"name":"under_class","doc":null,"default_value":"","external_name":"under_class","restriction":""},{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""},{"name":"crystal_value","doc":null,"default_value":"","external_name":"crystal_value","restriction":""}],"args_string":"(mrb_state, under_class, name, crystal_value)","source_link":"https://github.com/Anyolite/anyolite/blob/v0.4.0-pre/src/MrbWrap.cr#L205","def":{"name":"wrap_constant_under_class","args":[{"name":"mrb_state","doc":null,"default_value":"","external_name":"mrb_state","restriction":""},{"name":"under_class","doc":null,"default_value":"","external_name":"under_class","restriction":""},{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""},{"name":"crystal_value","doc":null,"default_value":"","external_name":"crystal_value","restriction":""}],"double_splat":null,"splat_index":null,"block_arg":null,"visibility":"Public","body":"    MrbInternal.mrb_define_const(\n{{ mrb_state }}\n, MrbClassCache.get(\n{{ under_class }}\n), \n{{ name }}\n, MrbCast.return_value(\n{{ mrb_state }}\n.to_unsafe, \n{{ crystal_value }}\n))\n  \n"}},{"id":"wrap_constructor(mrb_state,crystal_class,proc_args=[]ofClass,operator=&quot;&quot;,context=nil)-macro","html_id":"wrap_constructor(mrb_state,crystal_class,proc_args=[]ofClass,operator=&amp;quot;&amp;quot;,context=nil)-macro","name":"wrap_constructor","doc":"Wraps the constructor of a Crystal class into mruby.\n\nThe constructor for the Crystal `Class` *crystal_class* will be integrated into the `MrbState` *mrb_state*,\nwith the arguments *proc_args* as an `Array of Class`.","summary":"<p>Wraps the constructor of a Crystal class into mruby.</p>","abstract":false,"args":[{"name":"mrb_state","doc":null,"default_value":"","external_name":"mrb_state","restriction":""},{"name":"crystal_class","doc":null,"default_value":"","external_name":"crystal_class","restriction":""},{"name":"proc_args","doc":null,"default_value":"[] of Class","external_name":"proc_args","restriction":""},{"name":"operator","doc":null,"default_value":"\"\"","external_name":"operator","restriction":""},{"name":"context","doc":null,"default_value":"nil","external_name":"context","restriction":""}],"args_string":"(mrb_state, crystal_class, proc_args = <span class=\"o\">[]</span> <span class=\"k\">of</span> <span class=\"t\">Class</span>, operator = <span class=\"s\">&quot;&quot;</span>, context = <span class=\"n\">nil</span>)","source_link":"https://github.com/Anyolite/anyolite/blob/v0.4.0-pre/src/MrbWrap.cr#L87","def":{"name":"wrap_constructor","args":[{"name":"mrb_state","doc":null,"default_value":"","external_name":"mrb_state","restriction":""},{"name":"crystal_class","doc":null,"default_value":"","external_name":"crystal_class","restriction":""},{"name":"proc_args","doc":null,"default_value":"[] of Class","external_name":"proc_args","restriction":""},{"name":"operator","doc":null,"default_value":"\"\"","external_name":"operator","restriction":""},{"name":"context","doc":null,"default_value":"nil","external_name":"context","restriction":""}],"double_splat":null,"splat_index":null,"block_arg":null,"visibility":"Public","body":"    MrbMacro.wrap_constructor_function_with_args(\n{{ mrb_state }}\n, \n{{ crystal_class }}\n, \n{{ crystal_class }}\n.new, \n{{ proc_args }}\n, operator: \n{{ operator }}\n, context: \n{{ context }}\n)\n  \n"}},{"id":"wrap_constructor_with_keywords(mrb_state,crystal_class,keyword_args,regular_args=[]ofClass,operator=&quot;&quot;,context=nil)-macro","html_id":"wrap_constructor_with_keywords(mrb_state,crystal_class,keyword_args,regular_args=[]ofClass,operator=&amp;quot;&amp;quot;,context=nil)-macro","name":"wrap_constructor_with_keywords","doc":"Wraps the constructor of a Crystal class into mruby, using keyword arguments.\n\nThe constructor for the Crystal `Class` *crystal_class* will be integrated into the `MrbState` *mrb_state*,\nwith the arguments *regular_args* as an `Array of Class` and *keyword_args* as a `Hash of Symbol => Class`.\nAlternatively, a `Tuple` with the `Class` and a default value for the `Class` can be used instead of the `Class`.","summary":"<p>Wraps the constructor of a Crystal class into mruby, using keyword arguments.</p>","abstract":false,"args":[{"name":"mrb_state","doc":null,"default_value":"","external_name":"mrb_state","restriction":""},{"name":"crystal_class","doc":null,"default_value":"","external_name":"crystal_class","restriction":""},{"name":"keyword_args","doc":null,"default_value":"","external_name":"keyword_args","restriction":""},{"name":"regular_args","doc":null,"default_value":"[] of Class","external_name":"regular_args","restriction":""},{"name":"operator","doc":null,"default_value":"\"\"","external_name":"operator","restriction":""},{"name":"context","doc":null,"default_value":"nil","external_name":"context","restriction":""}],"args_string":"(mrb_state, crystal_class, keyword_args, regular_args = <span class=\"o\">[]</span> <span class=\"k\">of</span> <span class=\"t\">Class</span>, operator = <span class=\"s\">&quot;&quot;</span>, context = <span class=\"n\">nil</span>)","source_link":"https://github.com/Anyolite/anyolite/blob/v0.4.0-pre/src/MrbWrap.cr#L96","def":{"name":"wrap_constructor_with_keywords","args":[{"name":"mrb_state","doc":null,"default_value":"","external_name":"mrb_state","restriction":""},{"name":"crystal_class","doc":null,"default_value":"","external_name":"crystal_class","restriction":""},{"name":"keyword_args","doc":null,"default_value":"","external_name":"keyword_args","restriction":""},{"name":"regular_args","doc":null,"default_value":"[] of Class","external_name":"regular_args","restriction":""},{"name":"operator","doc":null,"default_value":"\"\"","external_name":"operator","restriction":""},{"name":"context","doc":null,"default_value":"nil","external_name":"context","restriction":""}],"double_splat":null,"splat_index":null,"block_arg":null,"visibility":"Public","body":"    MrbMacro.wrap_constructor_function_with_keyword_args(\n{{ mrb_state }}\n, \n{{ crystal_class }}\n, \n{{ crystal_class }}\n.new, \n{{ keyword_args }}\n, \n{{ regular_args }}\n, operator: \n{{ operator }}\n, context: \n{{ context }}\n)\n  \n"}},{"id":"wrap_getter(mrb_state,crystal_class,name,proc,operator=&quot;&quot;,context=nil)-macro","html_id":"wrap_getter(mrb_state,crystal_class,name,proc,operator=&amp;quot;&amp;quot;,context=nil)-macro","name":"wrap_getter","doc":"Wraps a getter into mruby.\n\nThe getter *proc* of the Crystal `Class` *crystal_class* will be integrated into the `MrbState` *mrb_state*.\n\nIts new name will be *name*.","summary":"<p>Wraps a getter into mruby.</p>","abstract":false,"args":[{"name":"mrb_state","doc":null,"default_value":"","external_name":"mrb_state","restriction":""},{"name":"crystal_class","doc":null,"default_value":"","external_name":"crystal_class","restriction":""},{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""},{"name":"proc","doc":null,"default_value":"","external_name":"proc","restriction":""},{"name":"operator","doc":null,"default_value":"\"\"","external_name":"operator","restriction":""},{"name":"context","doc":null,"default_value":"nil","external_name":"context","restriction":""}],"args_string":"(mrb_state, crystal_class, name, proc, operator = <span class=\"s\">&quot;&quot;</span>, context = <span class=\"n\">nil</span>)","source_link":"https://github.com/Anyolite/anyolite/blob/v0.4.0-pre/src/MrbWrap.cr#L178","def":{"name":"wrap_getter","args":[{"name":"mrb_state","doc":null,"default_value":"","external_name":"mrb_state","restriction":""},{"name":"crystal_class","doc":null,"default_value":"","external_name":"crystal_class","restriction":""},{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""},{"name":"proc","doc":null,"default_value":"","external_name":"proc","restriction":""},{"name":"operator","doc":null,"default_value":"\"\"","external_name":"operator","restriction":""},{"name":"context","doc":null,"default_value":"nil","external_name":"context","restriction":""}],"double_splat":null,"splat_index":null,"block_arg":null,"visibility":"Public","body":"    MrbMacro.wrap_instance_function_with_args(\n{{ mrb_state }}\n, \n{{ crystal_class }}\n, \n{{ name }}\n, \n{{ proc }}\n, operator: \n{{ operator }}\n, context: \n{{ context }}\n)\n  \n"}},{"id":"wrap_instance_method(mrb_state,crystal_class,name,proc,proc_args=[]ofClass,operator=&quot;&quot;,context=nil)-macro","html_id":"wrap_instance_method(mrb_state,crystal_class,name,proc,proc_args=[]ofClass,operator=&amp;quot;&amp;quot;,context=nil)-macro","name":"wrap_instance_method","doc":"Wraps an instance method into mruby.\n\nThe instance method *proc* of the Crystal `Class` *crystal_class* will be integrated into the `MrbState` *mrb_state*,\nwith the arguments *proc_args* as an `Array of Class`.\n\nIts new name will be *name*.","summary":"<p>Wraps an instance method into mruby.</p>","abstract":false,"args":[{"name":"mrb_state","doc":null,"default_value":"","external_name":"mrb_state","restriction":""},{"name":"crystal_class","doc":null,"default_value":"","external_name":"crystal_class","restriction":""},{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""},{"name":"proc","doc":null,"default_value":"","external_name":"proc","restriction":""},{"name":"proc_args","doc":null,"default_value":"[] of Class","external_name":"proc_args","restriction":""},{"name":"operator","doc":null,"default_value":"\"\"","external_name":"operator","restriction":""},{"name":"context","doc":null,"default_value":"nil","external_name":"context","restriction":""}],"args_string":"(mrb_state, crystal_class, name, proc, proc_args = <span class=\"o\">[]</span> <span class=\"k\">of</span> <span class=\"t\">Class</span>, operator = <span class=\"s\">&quot;&quot;</span>, context = <span class=\"n\">nil</span>)","source_link":"https://github.com/Anyolite/anyolite/blob/v0.4.0-pre/src/MrbWrap.cr#L148","def":{"name":"wrap_instance_method","args":[{"name":"mrb_state","doc":null,"default_value":"","external_name":"mrb_state","restriction":""},{"name":"crystal_class","doc":null,"default_value":"","external_name":"crystal_class","restriction":""},{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""},{"name":"proc","doc":null,"default_value":"","external_name":"proc","restriction":""},{"name":"proc_args","doc":null,"default_value":"[] of Class","external_name":"proc_args","restriction":""},{"name":"operator","doc":null,"default_value":"\"\"","external_name":"operator","restriction":""},{"name":"context","doc":null,"default_value":"nil","external_name":"context","restriction":""}],"double_splat":null,"splat_index":null,"block_arg":null,"visibility":"Public","body":"    MrbMacro.wrap_instance_function_with_args(\n{{ mrb_state }}\n, \n{{ crystal_class }}\n, \n{{ name }}\n, \n{{ proc }}\n, \n{{ proc_args }}\n, operator: \n{{ operator }}\n, context: \n{{ context }}\n)\n  \n"}},{"id":"wrap_instance_method_with_keywords(mrb_state,crystal_class,name,proc,keyword_args,regular_args=[]ofClass,operator=&quot;&quot;,context=nil)-macro","html_id":"wrap_instance_method_with_keywords(mrb_state,crystal_class,name,proc,keyword_args,regular_args=[]ofClass,operator=&amp;quot;&amp;quot;,context=nil)-macro","name":"wrap_instance_method_with_keywords","doc":"Wraps an instance method into mruby, using keyword arguments.\n\nThe instance method *proc* of the Crystal `Class` *crystal_class* will be integrated into the `MrbState` *mrb_state*,\nwith the arguments *regular_args* as an `Array of Class` and *keyword_args* as a `Hash of Symbol => Class`.\nAlternatively, a `Tuple` with the `Class` and a default value for the `Class` can be used instead of the `Class`.\n\nIts new name will be *name*.","summary":"<p>Wraps an instance method into mruby, using keyword arguments.</p>","abstract":false,"args":[{"name":"mrb_state","doc":null,"default_value":"","external_name":"mrb_state","restriction":""},{"name":"crystal_class","doc":null,"default_value":"","external_name":"crystal_class","restriction":""},{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""},{"name":"proc","doc":null,"default_value":"","external_name":"proc","restriction":""},{"name":"keyword_args","doc":null,"default_value":"","external_name":"keyword_args","restriction":""},{"name":"regular_args","doc":null,"default_value":"[] of Class","external_name":"regular_args","restriction":""},{"name":"operator","doc":null,"default_value":"\"\"","external_name":"operator","restriction":""},{"name":"context","doc":null,"default_value":"nil","external_name":"context","restriction":""}],"args_string":"(mrb_state, crystal_class, name, proc, keyword_args, regular_args = <span class=\"o\">[]</span> <span class=\"k\">of</span> <span class=\"t\">Class</span>, operator = <span class=\"s\">&quot;&quot;</span>, context = <span class=\"n\">nil</span>)","source_link":"https://github.com/Anyolite/anyolite/blob/v0.4.0-pre/src/MrbWrap.cr#L159","def":{"name":"wrap_instance_method_with_keywords","args":[{"name":"mrb_state","doc":null,"default_value":"","external_name":"mrb_state","restriction":""},{"name":"crystal_class","doc":null,"default_value":"","external_name":"crystal_class","restriction":""},{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""},{"name":"proc","doc":null,"default_value":"","external_name":"proc","restriction":""},{"name":"keyword_args","doc":null,"default_value":"","external_name":"keyword_args","restriction":""},{"name":"regular_args","doc":null,"default_value":"[] of Class","external_name":"regular_args","restriction":""},{"name":"operator","doc":null,"default_value":"\"\"","external_name":"operator","restriction":""},{"name":"context","doc":null,"default_value":"nil","external_name":"context","restriction":""}],"double_splat":null,"splat_index":null,"block_arg":null,"visibility":"Public","body":"    MrbMacro.wrap_instance_function_with_keyword_args(\n{{ mrb_state }}\n, \n{{ crystal_class }}\n, \n{{ name }}\n, \n{{ proc }}\n, \n{{ keyword_args }}\n, \n{{ regular_args }}\n, operator: \n{{ operator }}\n, context: \n{{ context }}\n)\n  \n"}},{"id":"wrap_module(mrb_state,crystal_module,name,under=nil)-macro","html_id":"wrap_module(mrb_state,crystal_module,name,under=nil)-macro","name":"wrap_module","doc":"Wraps a Crystal module into an mruby module.\n\nThe module *crystal_module* will be integrated into the `MrbState` *mrb_state*,\nwith *name* as its new designation, returning an `MrbModule`.\n\nThe parent module can be specified with the module argument *under*.","summary":"<p>Wraps a Crystal module into an mruby module.</p>","abstract":false,"args":[{"name":"mrb_state","doc":null,"default_value":"","external_name":"mrb_state","restriction":""},{"name":"crystal_module","doc":null,"default_value":"","external_name":"crystal_module","restriction":""},{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""},{"name":"under","doc":null,"default_value":"nil","external_name":"under","restriction":""}],"args_string":"(mrb_state, crystal_module, name, under = <span class=\"n\">nil</span>)","source_link":"https://github.com/Anyolite/anyolite/blob/v0.4.0-pre/src/MrbWrap.cr#L77","def":{"name":"wrap_module","args":[{"name":"mrb_state","doc":null,"default_value":"","external_name":"mrb_state","restriction":""},{"name":"crystal_module","doc":null,"default_value":"","external_name":"crystal_module","restriction":""},{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""},{"name":"under","doc":null,"default_value":"nil","external_name":"under","restriction":""}],"double_splat":null,"splat_index":null,"block_arg":null,"visibility":"Public","body":"    new_module = MrbModule.new(\n{{ mrb_state }}\n, \n{{ name }}\n, under: MrbClassCache.get(\n{{ under }}\n))\n    MrbClassCache.register(\n{{ crystal_module }}\n, new_module)\n    MrbClassCache.get(\n{{ crystal_module }}\n)\n  \n"}},{"id":"wrap_module_function(mrb_state,under_module,name,proc,proc_args=[]ofClass,operator=&quot;&quot;,context=nil)-macro","html_id":"wrap_module_function(mrb_state,under_module,name,proc,proc_args=[]ofClass,operator=&amp;quot;&amp;quot;,context=nil)-macro","name":"wrap_module_function","doc":"Wraps a module function into mruby.\n\nThe function *proc* under the module *under_module* will be integrated into the `MrbState` *mrb_state*,\nwith the arguments *proc_args* as an `Array of Class`.\n\nIts new name will be *name*.","summary":"<p>Wraps a module function into mruby.</p>","abstract":false,"args":[{"name":"mrb_state","doc":null,"default_value":"","external_name":"mrb_state","restriction":""},{"name":"under_module","doc":null,"default_value":"","external_name":"under_module","restriction":""},{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""},{"name":"proc","doc":null,"default_value":"","external_name":"proc","restriction":""},{"name":"proc_args","doc":null,"default_value":"[] of Class","external_name":"proc_args","restriction":""},{"name":"operator","doc":null,"default_value":"\"\"","external_name":"operator","restriction":""},{"name":"context","doc":null,"default_value":"nil","external_name":"context","restriction":""}],"args_string":"(mrb_state, under_module, name, proc, proc_args = <span class=\"o\">[]</span> <span class=\"k\">of</span> <span class=\"t\">Class</span>, operator = <span class=\"s\">&quot;&quot;</span>, context = <span class=\"n\">nil</span>)","source_link":"https://github.com/Anyolite/anyolite/blob/v0.4.0-pre/src/MrbWrap.cr#L106","def":{"name":"wrap_module_function","args":[{"name":"mrb_state","doc":null,"default_value":"","external_name":"mrb_state","restriction":""},{"name":"under_module","doc":null,"default_value":"","external_name":"under_module","restriction":""},{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""},{"name":"proc","doc":null,"default_value":"","external_name":"proc","restriction":""},{"name":"proc_args","doc":null,"default_value":"[] of Class","external_name":"proc_args","restriction":""},{"name":"operator","doc":null,"default_value":"\"\"","external_name":"operator","restriction":""},{"name":"context","doc":null,"default_value":"nil","external_name":"context","restriction":""}],"double_splat":null,"splat_index":null,"block_arg":null,"visibility":"Public","body":"    MrbMacro.wrap_module_function_with_args(\n{{ mrb_state }}\n, \n{{ under_module }}\n, \n{{ name }}\n, \n{{ proc }}\n, \n{{ proc_args }}\n, operator: \n{{ operator }}\n, context: \n{{ context }}\n)\n  \n"}},{"id":"wrap_module_function_with_keywords(mrb_state,under_module,name,proc,keyword_args,regular_args=[]ofClass,operator=&quot;&quot;,context=nil)-macro","html_id":"wrap_module_function_with_keywords(mrb_state,under_module,name,proc,keyword_args,regular_args=[]ofClass,operator=&amp;quot;&amp;quot;,context=nil)-macro","name":"wrap_module_function_with_keywords","doc":"Wraps a module function into mruby, using keyword arguments.\n\nThe function *proc* under the module *under_module* will be integrated into the `MrbState` *mrb_state*,\nwith the arguments *regular_args* as an `Array of Class` and *keyword_args* as a `Hash of Symbol => Class`.\nAlternatively, a `Tuple` with the `Class` and a default value for the `Class` can be used instead of the `Class`.\n\nIts new name will be *name*.","summary":"<p>Wraps a module function into mruby, using keyword arguments.</p>","abstract":false,"args":[{"name":"mrb_state","doc":null,"default_value":"","external_name":"mrb_state","restriction":""},{"name":"under_module","doc":null,"default_value":"","external_name":"under_module","restriction":""},{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""},{"name":"proc","doc":null,"default_value":"","external_name":"proc","restriction":""},{"name":"keyword_args","doc":null,"default_value":"","external_name":"keyword_args","restriction":""},{"name":"regular_args","doc":null,"default_value":"[] of Class","external_name":"regular_args","restriction":""},{"name":"operator","doc":null,"default_value":"\"\"","external_name":"operator","restriction":""},{"name":"context","doc":null,"default_value":"nil","external_name":"context","restriction":""}],"args_string":"(mrb_state, under_module, name, proc, keyword_args, regular_args = <span class=\"o\">[]</span> <span class=\"k\">of</span> <span class=\"t\">Class</span>, operator = <span class=\"s\">&quot;&quot;</span>, context = <span class=\"n\">nil</span>)","source_link":"https://github.com/Anyolite/anyolite/blob/v0.4.0-pre/src/MrbWrap.cr#L117","def":{"name":"wrap_module_function_with_keywords","args":[{"name":"mrb_state","doc":null,"default_value":"","external_name":"mrb_state","restriction":""},{"name":"under_module","doc":null,"default_value":"","external_name":"under_module","restriction":""},{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""},{"name":"proc","doc":null,"default_value":"","external_name":"proc","restriction":""},{"name":"keyword_args","doc":null,"default_value":"","external_name":"keyword_args","restriction":""},{"name":"regular_args","doc":null,"default_value":"[] of Class","external_name":"regular_args","restriction":""},{"name":"operator","doc":null,"default_value":"\"\"","external_name":"operator","restriction":""},{"name":"context","doc":null,"default_value":"nil","external_name":"context","restriction":""}],"double_splat":null,"splat_index":null,"block_arg":null,"visibility":"Public","body":"    MrbMacro.wrap_module_function_with_keyword_args(\n{{ mrb_state }}\n, \n{{ under_module }}\n, \n{{ name }}\n, \n{{ proc }}\n, \n{{ keyword_args }}\n, \n{{ regular_args }}\n, operator: \n{{ operator }}\n, context: \n{{ context }}\n)\n  \n"}},{"id":"wrap_module_with_methods(mrb_state,crystal_module,under=nil,class_method_exclusions=[]ofString|Symbol,constant_exclusions=[]ofString|Symbol,verbose=false)-macro","html_id":"wrap_module_with_methods(mrb_state,crystal_module,under=nil,class_method_exclusions=[]ofString|Symbol,constant_exclusions=[]ofString|Symbol,verbose=false)-macro","name":"wrap_module_with_methods","doc":"Wraps a whole module structure under a module into mruby.\n\nThe module *crystal_module* will be integrated into the `MrbState` *mrb_state*,\nwith the optional parent module *under*.\nMethods or constants to be excluded can be specified as \n`Symbol` or `String` in the `Array` \n*class_method_exclusions* (for class methods) or \n*constant_exclusions* (for constants).\nIf *verbose* is set, wrapping information will be displayed.","summary":"<p>Wraps a whole module structure under a module into mruby.</p>","abstract":false,"args":[{"name":"mrb_state","doc":null,"default_value":"","external_name":"mrb_state","restriction":""},{"name":"crystal_module","doc":null,"default_value":"","external_name":"crystal_module","restriction":""},{"name":"under","doc":null,"default_value":"nil","external_name":"under","restriction":""},{"name":"class_method_exclusions","doc":null,"default_value":"[] of String | Symbol","external_name":"class_method_exclusions","restriction":""},{"name":"constant_exclusions","doc":null,"default_value":"[] of String | Symbol","external_name":"constant_exclusions","restriction":""},{"name":"verbose","doc":null,"default_value":"false","external_name":"verbose","restriction":""}],"args_string":"(mrb_state, crystal_module, under = <span class=\"n\">nil</span>, class_method_exclusions = <span class=\"o\">[]</span> <span class=\"k\">of</span> <span class=\"t\">String</span> <span class=\"o\">|</span> <span class=\"t\">Symbol</span>, constant_exclusions = <span class=\"o\">[]</span> <span class=\"k\">of</span> <span class=\"t\">String</span> <span class=\"o\">|</span> <span class=\"t\">Symbol</span>, verbose = <span class=\"n\">false</span>)","source_link":"https://github.com/Anyolite/anyolite/blob/v0.4.0-pre/src/MrbWrap.cr#L300","def":{"name":"wrap_module_with_methods","args":[{"name":"mrb_state","doc":null,"default_value":"","external_name":"mrb_state","restriction":""},{"name":"crystal_module","doc":null,"default_value":"","external_name":"crystal_module","restriction":""},{"name":"under","doc":null,"default_value":"nil","external_name":"under","restriction":""},{"name":"class_method_exclusions","doc":null,"default_value":"[] of String | Symbol","external_name":"class_method_exclusions","restriction":""},{"name":"constant_exclusions","doc":null,"default_value":"[] of String | Symbol","external_name":"constant_exclusions","restriction":""},{"name":"verbose","doc":null,"default_value":"false","external_name":"verbose","restriction":""}],"double_splat":null,"splat_index":null,"block_arg":null,"visibility":"Public","body":"    \n{% if verbose %}\n      {% puts(\"> Going into module #{crystal_module} under #{under}\") %}\n    {% end %}\n\n\n    MrbWrap.wrap_module(\n{{ mrb_state }}\n, \n{{ crystal_module.resolve }}\n, \"\n{{ crystal_module.names.last }}\n\", under: \n{{ under }}\n)\n    MrbMacro.wrap_all_class_methods(\n{{ mrb_state }}\n, \n{{ crystal_module }}\n, \n{{ class_method_exclusions }}\n, \n{{ verbose }}\n, context: \n{{ under }}\n)\n    MrbMacro.wrap_all_constants(\n{{ mrb_state }}\n, \n{{ crystal_module }}\n, \n{{ constant_exclusions }}\n, \n{{ verbose }}\n)\n  \n"}},{"id":"wrap_property(mrb_state,crystal_class,name,proc,proc_arg,operator_getter=&quot;&quot;,operator_setter=&quot;=&quot;,context=nil)-macro","html_id":"wrap_property(mrb_state,crystal_class,name,proc,proc_arg,operator_getter=&amp;quot;&amp;quot;,operator_setter=&amp;quot;=&amp;quot;,context=nil)-macro","name":"wrap_property","doc":"Wraps a property into mruby.\n\nThe property *proc* of the Crystal `Class` *crystal_class* will be integrated into the `MrbState` *mrb_state*,\nwith the argument *proc_arg* as its respective `Class`.\n\nIts new name will be *name*.","summary":"<p>Wraps a property into mruby.</p>","abstract":false,"args":[{"name":"mrb_state","doc":null,"default_value":"","external_name":"mrb_state","restriction":""},{"name":"crystal_class","doc":null,"default_value":"","external_name":"crystal_class","restriction":""},{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""},{"name":"proc","doc":null,"default_value":"","external_name":"proc","restriction":""},{"name":"proc_arg","doc":null,"default_value":"","external_name":"proc_arg","restriction":""},{"name":"operator_getter","doc":null,"default_value":"\"\"","external_name":"operator_getter","restriction":""},{"name":"operator_setter","doc":null,"default_value":"\"=\"","external_name":"operator_setter","restriction":""},{"name":"context","doc":null,"default_value":"nil","external_name":"context","restriction":""}],"args_string":"(mrb_state, crystal_class, name, proc, proc_arg, operator_getter = <span class=\"s\">&quot;&quot;</span>, operator_setter = <span class=\"s\">&quot;=&quot;</span>, context = <span class=\"n\">nil</span>)","source_link":"https://github.com/Anyolite/anyolite/blob/v0.4.0-pre/src/MrbWrap.cr#L188","def":{"name":"wrap_property","args":[{"name":"mrb_state","doc":null,"default_value":"","external_name":"mrb_state","restriction":""},{"name":"crystal_class","doc":null,"default_value":"","external_name":"crystal_class","restriction":""},{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""},{"name":"proc","doc":null,"default_value":"","external_name":"proc","restriction":""},{"name":"proc_arg","doc":null,"default_value":"","external_name":"proc_arg","restriction":""},{"name":"operator_getter","doc":null,"default_value":"\"\"","external_name":"operator_getter","restriction":""},{"name":"operator_setter","doc":null,"default_value":"\"=\"","external_name":"operator_setter","restriction":""},{"name":"context","doc":null,"default_value":"nil","external_name":"context","restriction":""}],"double_splat":null,"splat_index":null,"block_arg":null,"visibility":"Public","body":"    MrbWrap.wrap_getter(\n{{ mrb_state }}\n, \n{{ crystal_class }}\n, \n{{ name }}\n, \n{{ proc }}\n, operator: \n{{ operator_getter }}\n, context: \n{{ context }}\n)\n    MrbWrap.wrap_setter(\n{{ mrb_state }}\n, \n{{ crystal_class }}\n, \n{{ name }}\n, \n{{ proc }}\n, \n{{ proc_arg }}\n, operator: \n{{ operator_setter }}\n, context: \n{{ context }}\n)\n  \n"}},{"id":"wrap_setter(mrb_state,crystal_class,name,proc,proc_arg,operator=&quot;=&quot;,context=nil)-macro","html_id":"wrap_setter(mrb_state,crystal_class,name,proc,proc_arg,operator=&amp;quot;=&amp;quot;,context=nil)-macro","name":"wrap_setter","doc":"Wraps a setter into mruby.\n\nThe setter *proc* (without the `=`) of the Crystal `Class` *crystal_class* will be integrated into the `MrbState` *mrb_state*,\nwith the argument *proc_arg* as its respective `Class`.\n\nIts new name will be *name*.","summary":"<p>Wraps a setter into mruby.</p>","abstract":false,"args":[{"name":"mrb_state","doc":null,"default_value":"","external_name":"mrb_state","restriction":""},{"name":"crystal_class","doc":null,"default_value":"","external_name":"crystal_class","restriction":""},{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""},{"name":"proc","doc":null,"default_value":"","external_name":"proc","restriction":""},{"name":"proc_arg","doc":null,"default_value":"","external_name":"proc_arg","restriction":""},{"name":"operator","doc":null,"default_value":"\"=\"","external_name":"operator","restriction":""},{"name":"context","doc":null,"default_value":"nil","external_name":"context","restriction":""}],"args_string":"(mrb_state, crystal_class, name, proc, proc_arg, operator = <span class=\"s\">&quot;=&quot;</span>, context = <span class=\"n\">nil</span>)","source_link":"https://github.com/Anyolite/anyolite/blob/v0.4.0-pre/src/MrbWrap.cr#L169","def":{"name":"wrap_setter","args":[{"name":"mrb_state","doc":null,"default_value":"","external_name":"mrb_state","restriction":""},{"name":"crystal_class","doc":null,"default_value":"","external_name":"crystal_class","restriction":""},{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""},{"name":"proc","doc":null,"default_value":"","external_name":"proc","restriction":""},{"name":"proc_arg","doc":null,"default_value":"","external_name":"proc_arg","restriction":""},{"name":"operator","doc":null,"default_value":"\"=\"","external_name":"operator","restriction":""},{"name":"context","doc":null,"default_value":"nil","external_name":"context","restriction":""}],"double_splat":null,"splat_index":null,"block_arg":null,"visibility":"Public","body":"    MrbMacro.wrap_instance_function_with_args(\n{{ mrb_state }}\n, \n{{ crystal_class }}\n, \n{{ name }}\n, \n{{ proc }}\n, \n{{ proc_arg }}\n, operator: \n{{ operator }}\n, context: \n{{ context }}\n)\n  \n"}}],"types":[{"html_id":"anyolite/MrbWrap/Empty","path":"MrbWrap/Empty.html","kind":"struct","full_name":"MrbWrap::Empty","name":"Empty","abstract":false,"superclass":{"html_id":"anyolite/Struct","kind":"struct","full_name":"Struct","name":"Struct"},"ancestors":[{"html_id":"anyolite/Struct","kind":"struct","full_name":"Struct","name":"Struct"},{"html_id":"anyolite/Value","kind":"struct","full_name":"Value","name":"Value"},{"html_id":"anyolite/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/MrbWrap.cr","line_number":28,"url":"https://github.com/Anyolite/anyolite/blob/v0.4.0-pre/src/MrbWrap.cr#L28"}],"repository_name":"anyolite","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"anyolite/MrbWrap","kind":"module","full_name":"MrbWrap","name":"MrbWrap"},"doc":"Use this special constant in case of a function to wrap, which has only an operator as a name.","summary":"<p>Use this special constant in case of a function to wrap, which has only an operator as a name.</p>","class_methods":[],"constructors":[{"id":"new-class-method","html_id":"new-class-method","name":"new","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/Anyolite/anyolite/blob/v0.4.0-pre/src/MrbWrap.cr#L28","def":{"name":"new","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"x = allocate\nif x.responds_to?(:finalize)\n  ::GC.add_finalizer(x)\nend\nx\n"}}],"instance_methods":[],"macros":[],"types":[]},{"html_id":"anyolite/MrbWrap/Exclude","path":"MrbWrap/Exclude.html","kind":"annotation","full_name":"MrbWrap::Exclude","name":"Exclude","abstract":false,"superclass":null,"ancestors":[],"locations":[{"filename":"src/MrbWrap.cr","line_number":213,"url":"https://github.com/Anyolite/anyolite/blob/v0.4.0-pre/src/MrbWrap.cr#L213"}],"repository_name":"anyolite","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"anyolite/MrbWrap","kind":"module","full_name":"MrbWrap","name":"MrbWrap"},"doc":"Excludes the function from wrapping.","summary":"<p>Excludes the function from wrapping.</p>","class_methods":[],"constructors":[],"instance_methods":[],"macros":[],"types":[]},{"html_id":"anyolite/MrbWrap/ExcludeClassMethod","path":"MrbWrap/ExcludeClassMethod.html","kind":"annotation","full_name":"MrbWrap::ExcludeClassMethod","name":"ExcludeClassMethod","abstract":false,"superclass":null,"ancestors":[],"locations":[{"filename":"src/MrbWrap.cr","line_number":219,"url":"https://github.com/Anyolite/anyolite/blob/v0.4.0-pre/src/MrbWrap.cr#L219"}],"repository_name":"anyolite","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"anyolite/MrbWrap","kind":"module","full_name":"MrbWrap","name":"MrbWrap"},"doc":"Excludes the class method given as the first argument from wrapping.","summary":"<p>Excludes the class method given as the first argument from wrapping.</p>","class_methods":[],"constructors":[],"instance_methods":[],"macros":[],"types":[]},{"html_id":"anyolite/MrbWrap/ExcludeConstant","path":"MrbWrap/ExcludeConstant.html","kind":"annotation","full_name":"MrbWrap::ExcludeConstant","name":"ExcludeConstant","abstract":false,"superclass":null,"ancestors":[],"locations":[{"filename":"src/MrbWrap.cr","line_number":222,"url":"https://github.com/Anyolite/anyolite/blob/v0.4.0-pre/src/MrbWrap.cr#L222"}],"repository_name":"anyolite","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"anyolite/MrbWrap","kind":"module","full_name":"MrbWrap","name":"MrbWrap"},"doc":"Excludes the constant given as the first argument from wrapping.","summary":"<p>Excludes the constant given as the first argument from wrapping.</p>","class_methods":[],"constructors":[],"instance_methods":[],"macros":[],"types":[]},{"html_id":"anyolite/MrbWrap/ExcludeInstanceMethod","path":"MrbWrap/ExcludeInstanceMethod.html","kind":"annotation","full_name":"MrbWrap::ExcludeInstanceMethod","name":"ExcludeInstanceMethod","abstract":false,"superclass":null,"ancestors":[],"locations":[{"filename":"src/MrbWrap.cr","line_number":216,"url":"https://github.com/Anyolite/anyolite/blob/v0.4.0-pre/src/MrbWrap.cr#L216"}],"repository_name":"anyolite","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"anyolite/MrbWrap","kind":"module","full_name":"MrbWrap","name":"MrbWrap"},"doc":"Excludes the instance method given as the first argument from wrapping.","summary":"<p>Excludes the instance method given as the first argument from wrapping.</p>","class_methods":[],"constructors":[],"instance_methods":[],"macros":[],"types":[]},{"html_id":"anyolite/MrbWrap/Interpreted","path":"MrbWrap/Interpreted.html","kind":"alias","full_name":"MrbWrap::Interpreted","name":"Interpreted","abstract":false,"superclass":null,"ancestors":[],"locations":[{"filename":"src/MrbWrap.cr","line_number":18,"url":"https://github.com/Anyolite/anyolite/blob/v0.4.0-pre/src/MrbWrap.cr#L18"}],"repository_name":"anyolite","program":false,"enum":false,"alias":true,"aliased":"(Bool | Float32 | Int64 | MrbWrap::Undefined | String | Nil)","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"anyolite/MrbWrap","kind":"module","full_name":"MrbWrap","name":"MrbWrap"},"doc":"Alias for all possible mruby return types.","summary":"<p>Alias for all possible mruby return types.</p>","class_methods":[],"constructors":[],"instance_methods":[],"macros":[],"types":[]},{"html_id":"anyolite/MrbWrap/Rename","path":"MrbWrap/Rename.html","kind":"annotation","full_name":"MrbWrap::Rename","name":"Rename","abstract":false,"superclass":null,"ancestors":[],"locations":[{"filename":"src/MrbWrap.cr","line_number":239,"url":"https://github.com/Anyolite/anyolite/blob/v0.4.0-pre/src/MrbWrap.cr#L239"}],"repository_name":"anyolite","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"anyolite/MrbWrap","kind":"module","full_name":"MrbWrap","name":"MrbWrap"},"doc":"Renames the function to the first argument if wrapped.","summary":"<p>Renames the function to the first argument if wrapped.</p>","class_methods":[],"constructors":[],"instance_methods":[],"macros":[],"types":[]},{"html_id":"anyolite/MrbWrap/RenameClassMethod","path":"MrbWrap/RenameClassMethod.html","kind":"annotation","full_name":"MrbWrap::RenameClassMethod","name":"RenameClassMethod","abstract":false,"superclass":null,"ancestors":[],"locations":[{"filename":"src/MrbWrap.cr","line_number":247,"url":"https://github.com/Anyolite/anyolite/blob/v0.4.0-pre/src/MrbWrap.cr#L247"}],"repository_name":"anyolite","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"anyolite/MrbWrap","kind":"module","full_name":"MrbWrap","name":"MrbWrap"},"doc":"Renames the class method given as the first argument\nto the second argument if wrapped.","summary":"<p>Renames the class method given as the first argument to the second argument if wrapped.</p>","class_methods":[],"constructors":[],"instance_methods":[],"macros":[],"types":[]},{"html_id":"anyolite/MrbWrap/RenameConstant","path":"MrbWrap/RenameConstant.html","kind":"annotation","full_name":"MrbWrap::RenameConstant","name":"RenameConstant","abstract":false,"superclass":null,"ancestors":[],"locations":[{"filename":"src/MrbWrap.cr","line_number":251,"url":"https://github.com/Anyolite/anyolite/blob/v0.4.0-pre/src/MrbWrap.cr#L251"}],"repository_name":"anyolite","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"anyolite/MrbWrap","kind":"module","full_name":"MrbWrap","name":"MrbWrap"},"doc":"Renames the constant given as the first argument\nto the second argument if wrapped.","summary":"<p>Renames the constant given as the first argument to the second argument if wrapped.</p>","class_methods":[],"constructors":[],"instance_methods":[],"macros":[],"types":[]},{"html_id":"anyolite/MrbWrap/RenameInstanceMethod","path":"MrbWrap/RenameInstanceMethod.html","kind":"annotation","full_name":"MrbWrap::RenameInstanceMethod","name":"RenameInstanceMethod","abstract":false,"superclass":null,"ancestors":[],"locations":[{"filename":"src/MrbWrap.cr","line_number":243,"url":"https://github.com/Anyolite/anyolite/blob/v0.4.0-pre/src/MrbWrap.cr#L243"}],"repository_name":"anyolite","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"anyolite/MrbWrap","kind":"module","full_name":"MrbWrap","name":"MrbWrap"},"doc":"Renames the instane method given as the first argument\nto the second argument if wrapped.","summary":"<p>Renames the instane method given as the first argument to the second argument if wrapped.</p>","class_methods":[],"constructors":[],"instance_methods":[],"macros":[],"types":[]},{"html_id":"anyolite/MrbWrap/Specialize","path":"MrbWrap/Specialize.html","kind":"annotation","full_name":"MrbWrap::Specialize","name":"Specialize","abstract":false,"superclass":null,"ancestors":[],"locations":[{"filename":"src/MrbWrap.cr","line_number":226,"url":"https://github.com/Anyolite/anyolite/blob/v0.4.0-pre/src/MrbWrap.cr#L226"}],"repository_name":"anyolite","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"anyolite/MrbWrap","kind":"module","full_name":"MrbWrap","name":"MrbWrap"},"doc":"Excludes all definitions of this function besides this one from wrapping.\nThe optional first argument overwrites the original argument array.","summary":"<p>Excludes all definitions of this function besides this one from wrapping.</p>","class_methods":[],"constructors":[],"instance_methods":[],"macros":[],"types":[]},{"html_id":"anyolite/MrbWrap/SpecializeClassMethod","path":"MrbWrap/SpecializeClassMethod.html","kind":"annotation","full_name":"MrbWrap::SpecializeClassMethod","name":"SpecializeClassMethod","abstract":false,"superclass":null,"ancestors":[],"locations":[{"filename":"src/MrbWrap.cr","line_number":236,"url":"https://github.com/Anyolite/anyolite/blob/v0.4.0-pre/src/MrbWrap.cr#L236"}],"repository_name":"anyolite","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"anyolite/MrbWrap","kind":"module","full_name":"MrbWrap","name":"MrbWrap"},"doc":"Excludes all definitions of the class method given as the first argument \nbesides the one with the arguments given in the second argument from wrapping.\nThe optional third argument overwrites the original argument array.","summary":"<p>Excludes all definitions of the class method given as the first argument  besides the one with the arguments given in the second argument from wrapping.</p>","class_methods":[],"constructors":[],"instance_methods":[],"macros":[],"types":[]},{"html_id":"anyolite/MrbWrap/SpecializeInstanceMethod","path":"MrbWrap/SpecializeInstanceMethod.html","kind":"annotation","full_name":"MrbWrap::SpecializeInstanceMethod","name":"SpecializeInstanceMethod","abstract":false,"superclass":null,"ancestors":[],"locations":[{"filename":"src/MrbWrap.cr","line_number":231,"url":"https://github.com/Anyolite/anyolite/blob/v0.4.0-pre/src/MrbWrap.cr#L231"}],"repository_name":"anyolite","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"anyolite/MrbWrap","kind":"module","full_name":"MrbWrap","name":"MrbWrap"},"doc":"Excludes all definitions of the instance method given as the first argument \nbesides the one with the arguments given in the second argument from wrapping.\nThe optional third argument overwrites the original argument array.","summary":"<p>Excludes all definitions of the instance method given as the first argument  besides the one with the arguments given in the second argument from wrapping.</p>","class_methods":[],"constructors":[],"instance_methods":[],"macros":[],"types":[]},{"html_id":"anyolite/MrbWrap/StructWrapper","path":"MrbWrap/StructWrapper.html","kind":"class","full_name":"MrbWrap::StructWrapper(T)","name":"StructWrapper","abstract":false,"superclass":{"html_id":"anyolite/Reference","kind":"class","full_name":"Reference","name":"Reference"},"ancestors":[{"html_id":"anyolite/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"anyolite/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/MrbWrap.cr","line_number":33,"url":"https://github.com/Anyolite/anyolite/blob/v0.4.0-pre/src/MrbWrap.cr#L33"}],"repository_name":"anyolite","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"anyolite/MrbWrap","kind":"module","full_name":"MrbWrap","name":"MrbWrap"},"doc":"Internal class to hide the `Struct` *T* in a special class\nto obtain all class-related properties.","summary":"<p>Internal class to hide the <code>Struct</code> <em>T</em> in a special class to obtain all class-related properties.</p>","class_methods":[],"constructors":[{"id":"new(value)-class-method","html_id":"new(value)-class-method","name":"new","doc":null,"summary":null,"abstract":false,"args":[{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":""}],"args_string":"(value)","source_link":"https://github.com/Anyolite/anyolite/blob/v0.4.0-pre/src/MrbWrap.cr#L36","def":{"name":"new","args":[{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = StructWrapper(T).allocate\n_.initialize(value)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"id":"content:T-instance-method","html_id":"content:T-instance-method","name":"content","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : T","source_link":"https://github.com/Anyolite/anyolite/blob/v0.4.0-pre/src/MrbWrap.cr#L40","def":{"name":"content","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"T","visibility":"Public","body":"if c = @content\n  c\nelse\n  raise(\"Content undefined!\")\nend"}},{"id":"content=(value)-instance-method","html_id":"content=(value)-instance-method","name":"content=","doc":null,"summary":null,"abstract":false,"args":[{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":""}],"args_string":"(value)","source_link":"https://github.com/Anyolite/anyolite/blob/v0.4.0-pre/src/MrbWrap.cr#L48","def":{"name":"content=","args":[{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@content = value"}}],"macros":[],"types":[]},{"html_id":"anyolite/MrbWrap/Undefined","path":"MrbWrap/Undefined.html","kind":"struct","full_name":"MrbWrap::Undefined","name":"Undefined","abstract":false,"superclass":{"html_id":"anyolite/Struct","kind":"struct","full_name":"Struct","name":"Struct"},"ancestors":[{"html_id":"anyolite/Struct","kind":"struct","full_name":"Struct","name":"Struct"},{"html_id":"anyolite/Value","kind":"struct","full_name":"Value","name":"Value"},{"html_id":"anyolite/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/MrbWrap.cr","line_number":21,"url":"https://github.com/Anyolite/anyolite/blob/v0.4.0-pre/src/MrbWrap.cr#L21"}],"repository_name":"anyolite","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"anyolite/MrbWrap","kind":"module","full_name":"MrbWrap","name":"MrbWrap"},"doc":"Special struct representing undefined values in mruby.","summary":"<p>Special struct representing undefined values in mruby.</p>","class_methods":[],"constructors":[],"instance_methods":[],"macros":[],"types":[]},{"html_id":"anyolite/MrbWrap/WrapWithoutKeywords","path":"MrbWrap/WrapWithoutKeywords.html","kind":"annotation","full_name":"MrbWrap::WrapWithoutKeywords","name":"WrapWithoutKeywords","abstract":false,"superclass":null,"ancestors":[],"locations":[{"filename":"src/MrbWrap.cr","line_number":254,"url":"https://github.com/Anyolite/anyolite/blob/v0.4.0-pre/src/MrbWrap.cr#L254"}],"repository_name":"anyolite","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"anyolite/MrbWrap","kind":"module","full_name":"MrbWrap","name":"MrbWrap"},"doc":"Wraps all arguments of the function to positional arguments.","summary":"<p>Wraps all arguments of the function to positional arguments.</p>","class_methods":[],"constructors":[],"instance_methods":[],"macros":[],"types":[]},{"html_id":"anyolite/MrbWrap/WrapWithoutKeywordsClassMethod","path":"MrbWrap/WrapWithoutKeywordsClassMethod.html","kind":"annotation","full_name":"MrbWrap::WrapWithoutKeywordsClassMethod","name":"WrapWithoutKeywordsClassMethod","abstract":false,"superclass":null,"ancestors":[],"locations":[{"filename":"src/MrbWrap.cr","line_number":262,"url":"https://github.com/Anyolite/anyolite/blob/v0.4.0-pre/src/MrbWrap.cr#L262"}],"repository_name":"anyolite","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"anyolite/MrbWrap","kind":"module","full_name":"MrbWrap","name":"MrbWrap"},"doc":"Wraps all arguments of the class method given as the first argument\nto positional arguments.","summary":"<p>Wraps all arguments of the class method given as the first argument to positional arguments.</p>","class_methods":[],"constructors":[],"instance_methods":[],"macros":[],"types":[]},{"html_id":"anyolite/MrbWrap/WrapWithoutKeywordsInstanceMethod","path":"MrbWrap/WrapWithoutKeywordsInstanceMethod.html","kind":"annotation","full_name":"MrbWrap::WrapWithoutKeywordsInstanceMethod","name":"WrapWithoutKeywordsInstanceMethod","abstract":false,"superclass":null,"ancestors":[],"locations":[{"filename":"src/MrbWrap.cr","line_number":258,"url":"https://github.com/Anyolite/anyolite/blob/v0.4.0-pre/src/MrbWrap.cr#L258"}],"repository_name":"anyolite","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"anyolite/MrbWrap","kind":"module","full_name":"MrbWrap","name":"MrbWrap"},"doc":"Wraps all arguments of the instance method given as the first argument\nto positional arguments.","summary":"<p>Wraps all arguments of the instance method given as the first argument to positional arguments.</p>","class_methods":[],"constructors":[],"instance_methods":[],"macros":[],"types":[]}]}]}})